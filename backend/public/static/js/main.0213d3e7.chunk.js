(this.webpackJsonppuzzles=this.webpackJsonppuzzles||[]).push([[0],{221:function(e){e.exports=JSON.parse('{"name":"puzzles","version":"0.1.0","private":true,"homepage":"/puzzles","author":{"name":"Mehran Mirkhan","email":"mehranmirkhan@gmail.com","url":"https://mehranmirkhan.github.io"},"dependencies":{"axios":"^0.19.0","moment-jalaali":"^0.9.1","query-string":"^6.9.0","react":"^16.11.0","react-advance-jalaali-datepicker":"^1.2.2","react-alert":"^6.0.0","react-datepicker":"^2.10.1","react-dom":"^16.11.0","react-redux":"^7.1.1","react-router-dom":"^5.1.2","react-scripts":"3.2.0","redux":"^4.0.4","redux-form":"^8.2.6","redux-persist":"^6.0.0","redux-thunk":"^2.3.0","semantic-ui-react":"^0.88.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},371:function(e,t,n){e.exports=n(625)},42:function(e){e.exports=JSON.parse('{"persist_key":"puzzles_ugQzdLOtUd","server_url":"http://192.168.1.114/puzzles/","request_timeout":5000}')},622:function(e,t,n){},624:function(e,t,n){},625:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(38),i=n.n(l),o=n(12),c=n(308),u=n(62),s=n(27),m=n(309),d=n(222),p=n(310),h=n.n(p),f=n(311),b=n.n(f),E=n(304),y=n(20),g="flow/TRANSITION",v="flow/SET_SELECTED",_="flow/SELECTION_RECEIVED",w="flow/RESET",O="IDLE",j="SELECTING",k="SELECTED",S={selectionState:O,selectionCode:void 0,selectionCarry:void 0,selectedEntity:void 0},N=function(){return{type:_}},C="auth/LOGIN",x="auth/ME",F="auth/RESET",q={token:{},me:{}},I=function(e,t){return function(n,a,r){return r.post("/login",{username:e,password:t}).then((function(e){n({type:C,payload:e?e.data:void 0}),n(R())}))}},D=function(){return function(e){e({type:F})}},R=function(){return function(e,t,n){return n.get("/v1/me").then((function(t){return e({type:x,payload:t?t.data:void 0})}))}},T=function(e){return e.auth.me},L=function(e){return!!e.auth.token&&!!e.auth.token.access_token},z="report/SET",A="report/RESET",U={},M=n(335),Q=n(42),P={id:{label:"\u0634\u0646\u0627\u0633\u0647"},image:{label:"\u062a\u0635\u0648\u06cc\u0631"},is_active:{label:"\u0641\u0639\u0627\u0644"}},Y=function(e){return e.image&&(e.image=r.a.createElement(M.a,{src:"".concat(Q.server_url,"storage/").concat(e.image),style:{maxHeight:"200px",display:"inline-block"}})),e},J="news/SET_ENTITY_LIST",G="news/SET_ENTITY",H="news/RESET",V={entityList:[],entity:void 0},B=function(e){return function(t,n,a){console.log("Fetching all news");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/news",{params:r}).then((function(e){return t({type:J,payload:e?e.data:void 0})}))}},W=function(e){return function(t,n,a){if(console.log("Fetching news:",e),e)return a.get("/admin/v1/news/".concat(e)).then((function(e){return t({type:G,payload:e?e.data:void 0})}))}},X="users/SET_ENTITY_LIST",K="users/SET_ENTITY",Z="users/RESET",$={entityList:[],entity:void 0},ee=function(e){return function(t,n,a){console.log("Fetching all users");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/users",{params:r}).then((function(e){return t({type:X,payload:e?e.data:void 0})}))}},te=function(e){return function(t,n,a){if(console.log("Fetching user:",e),e)return a.get("/admin/v1/users/".concat(e)).then((function(e){return t({type:K,payload:e?e.data:void 0})}))}},ne={id:{label:"\u0634\u0646\u0627\u0633\u0647"},locale:{label:"\u0632\u0628\u0627\u0646",options:[{key:"null",text:"",value:void 0},{key:"en",text:"\u0627\u0646\u06af\u0644\u06cc\u0633\u06cc",value:"en"},{key:"fa",text:"\u0641\u0627\u0631\u0633\u06cc",value:"fa"}]},title:{label:"\u0639\u0646\u0648\u0627\u0646"},time_type:{label:"\u0646\u0648\u0639 \u0632\u0645\u0627\u0646",options:[{key:"null",text:"",value:void 0},{key:"daily",text:"\u0631\u0648\u0632\u0627\u0646\u0647",value:"daily"},{key:"weekly",text:"\u0647\u0641\u062a\u06af\u06cc",value:"weekly"}]},answer_type:{label:"\u0646\u0648\u0639 \u067e\u0627\u0633\u062e",options:[{key:"null",text:"",value:void 0},{key:"text",text:"\u0645\u062a\u0646\u06cc",value:"text"},{key:"choice",text:"\u06af\u0632\u06cc\u0646\u0647\u200c\u0627\u06cc",value:"choice"},{key:"letter",text:"\u062d\u0631\u0648\u0641\u06cc",value:"letter"}]},start_time:{label:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639"},end_time:{label:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646"},score:{label:"\u0627\u0645\u062a\u06cc\u0627\u0632"},tries:{label:"\u062a\u0639\u062f\u0627\u062f \u062a\u0644\u0627\u0634"},images:{label:"\u062a\u0635\u0627\u0648\u06cc\u0631"},choices:{label:"\u06af\u0632\u06cc\u0646\u0647\u200c\u0647\u0627"},letters:{label:"\u062d\u0631\u0648\u0641"},letters_num:{label:"\u062a\u0639\u062f\u0627\u062f \u062d\u0631\u0648\u0641"},solutions:{label:"\u062c\u0648\u0627\u0628\u200c\u0647\u0627"}},ae=ne,re=function(e){return e.time_type=ne.time_type.options.find((function(t){return t.value===e.time_type})),e.time_type&&(e.time_type=e.time_type.text),e.answer_type=ne.answer_type.options.find((function(t){return t.value===e.answer_type})),e.answer_type&&(e.answer_type=e.answer_type.text),e.start_time&&(e.start_time=new Date(e.start_time).toGMTString()),e.end_time&&(e.end_time=new Date(e.end_time).toGMTString()),e},le="questions/SET_ENTITY_LIST",ie="questions/SET_ENTITY",oe="questions/RESET",ce={entityList:[],entity:void 0},ue=function(e){return function(t,n,a){console.log("Fetching all questions");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/questions",{params:r}).then((function(e){return t({type:le,payload:e?e.data:void 0})}))}},se=function(e){return function(t,n,a){if(console.log("Fetching question:",e),e)return a.get("/admin/v1/questions/".concat(e)).then((function(e){return t({type:ie,payload:e?e.data:void 0})}))}},me=n(22),de={id:{label:"\u0634\u0646\u0627\u0633\u0647"},question_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0633\u0624\u0627\u0644"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"},text:{label:"\u0645\u062a\u0646"},correct:{label:"\u062f\u0631\u0633\u062a\u06cc"}},pe=function(e){return e.question_id=r.a.createElement(me.b,{to:"/questions/".concat(e.question_id)},e.question_id),e.user_id=r.a.createElement(me.b,{to:"/users/".concat(e.user_id)},e.user_id),e},he="answers/SET_ENTITY_LIST",fe="answers/SET_ENTITY",be="answers/RESET",Ee={entityList:[],entity:void 0},ye=function(e){return function(t,n,a){console.log("Fetching all answers");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/answers",{params:r}).then((function(e){return t({type:he,payload:e?e.data:void 0})}))}},ge=function(e){return function(t,n,a){if(console.log("Fetching answer:",e),e)return a.get("/admin/v1/answers/".concat(e)).then((function(e){return t({type:fe,payload:e?e.data:void 0})}))}},ve={id:{label:"\u0634\u0646\u0627\u0633\u0647"},question_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0633\u0624\u0627\u0644"},type:{label:"\u0646\u0648\u0639",options:[{key:"null",text:"",value:void 0},{key:"image",text:"\u062a\u0635\u0648\u06cc\u0631",value:"image"},{key:"choice",text:"\u06af\u0632\u06cc\u0646\u0647",value:"choice"},{key:"letter",text:"\u062d\u0631\u0648\u0641",value:"letter"},{key:"try",text:"\u062a\u0644\u0627\u0634",value:"try"}]},value:{label:"\u0645\u0642\u062f\u0627\u0631"},price:{label:"\u0642\u06cc\u0645\u062a"}},_e=function(e){return e.question_id=r.a.createElement(me.b,{to:"/questions/".concat(e.question_id)},e.question_id),"image"===e.type&&e.value&&(e.value=r.a.createElement(M.a,{src:"".concat(Q.server_url,"storage/").concat(e.value),style:{maxHeight:"200px",display:"inline-block"}})),e},we="hints/SET_ENTITY_LIST",Oe="hints/SET_ENTITY",je="hints/RESET",ke={entityList:[],entity:void 0},Se=function(e){return function(t,n,a){console.log("Fetching all hints");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/hints",{params:r}).then((function(e){return t({type:we,payload:e?e.data:void 0})}))}},Ne=function(e){return function(t,n,a){if(console.log("Fetching hint:",e),e)return a.get("/admin/v1/hints/".concat(e)).then((function(e){return t({type:Oe,payload:e?e.data:void 0})}))}},Ce={id:{label:"\u0634\u0646\u0627\u0633\u0647"},hint_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"}},xe=function(e){return e.hint_id=r.a.createElement(me.b,{to:"/hints/".concat(e.hint_id)},e.hint_id),e.user_id=r.a.createElement(me.b,{to:"/users/".concat(e.user_id)},e.user_id),e},Fe="user_hints/SET_ENTITY_LIST",qe="user_hints/SET_ENTITY",Ie="user_hints/RESET",De={entityList:[],entity:void 0},Re=function(e){return function(t,n,a){console.log("Fetching all user_hints");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/user_hints",{params:r}).then((function(e){return t({type:Fe,payload:e?e.data:void 0})}))}},Te=function(e){return function(t,n,a){if(console.log("Fetching user_hint:",e),e)return a.get("/admin/v1/user_hints/".concat(e)).then((function(e){return t({type:qe,payload:e?e.data:void 0})}))}},Le="achievements/SET_ENTITY_LIST",ze="achievements/SET_ENTITY",Ae="achievements/RESET",Ue={entityList:[],entity:void 0},Me=function(e){return function(t,n,a){console.log("Fetching all achievements");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/achievements",{params:r}).then((function(e){return t({type:Le,payload:e?e.data:void 0})}))}},Qe=function(e){return function(t,n,a){if(console.log("Fetching achievement:",e),e)return a.get("/admin/v1/achievements/".concat(e)).then((function(e){return t({type:ze,payload:e?e.data:void 0})}))}},Pe={id:{label:"\u0634\u0646\u0627\u0633\u0647"},achievement_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0645\u062f\u0627\u0644"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"}},Ye=function(e){return e.achievement_id=r.a.createElement(me.b,{to:"/achievements/".concat(e.achievement_id)},e.achievement_id),e.user_id=r.a.createElement(me.b,{to:"/users/".concat(e.user_id)},e.user_id),e},Je="user_achievements/SET_ENTITY_LIST",Ge="user_achievements/SET_ENTITY",He="user_achievements/RESET",Ve={entityList:[],entity:void 0},Be=function(e){return function(t,n,a){console.log("Fetching all user_achievements");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/user_achievements",{params:r}).then((function(e){return t({type:Je,payload:e?e.data:void 0})}))}},We=function(e){return function(t,n,a){if(console.log("Fetching user_achievement:",e),e)return a.get("/admin/v1/user_achievements/".concat(e)).then((function(e){return t({type:Ge,payload:e?e.data:void 0})}))}},Xe=Object(s.c)({form:E.a,flow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(y.a)({},e,{selectionState:j,selectionCode:t.payload.code,selectionCarry:t.payload.carry,selectedEntity:void 0});case v:return Object(y.a)({},e,{selectionState:k,selectedEntity:t.payload.entity});case _:return Object(y.a)({},e,{selectionState:O});case w:return Object(y.a)({},S);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(y.a)({},e,{token:t.payload});case x:return Object(y.a)({},e,{me:t.payload});case F:return Object(y.a)({},q);default:return e}},report:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(y.a)({},U,{},t.payload);case A:return Object(y.a)({},U);default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return t.payload?(t.payload.data=t.payload.data.map(Y),Object(y.a)({},e,{entityList:t.payload})):e;case G:return Object(y.a)({},e,{entity:t.payload});case H:return Object(y.a)({},V);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(y.a)({},e,{entityList:t.payload});case K:return Object(y.a)({},e,{entity:t.payload});case Z:return Object(y.a)({},$);default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return t.payload?(t.payload.data=t.payload.data.map(re),Object(y.a)({},e,{entityList:t.payload})):e;case ie:return Object(y.a)({},e,{entity:t.payload});case oe:return Object(y.a)({},ce);default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return t.payload?(t.payload.data=t.payload.data.map(pe),Object(y.a)({},e,{entityList:t.payload})):e;case fe:return Object(y.a)({},e,{entity:t.payload});case be:return Object(y.a)({},Ee);default:return e}},hints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return t.payload?(t.payload.data=t.payload.data.map(_e),Object(y.a)({},e,{entityList:t.payload})):e;case Oe:return Object(y.a)({},e,{entity:t.payload});case je:return Object(y.a)({},ke);default:return e}},user_hints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return t.payload?(t.payload.data=t.payload.data.map(xe),Object(y.a)({},e,{entityList:t.payload})):e;case qe:return Object(y.a)({},e,{entity:t.payload});case Ie:return Object(y.a)({},De);default:return e}},achievements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(y.a)({},e,{entityList:t.payload});case ze:return Object(y.a)({},e,{entity:t.payload});case Ae:return Object(y.a)({},Ue);default:return e}},user_achievements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return t.payload?(t.payload.data=t.payload.data.map(Ye),Object(y.a)({},e,{entityList:t.payload})):e;case Ge:return Object(y.a)({},e,{entity:t.payload});case He:return Object(y.a)({},Ve);default:return e}}}),Ke={key:Q.persist_key,storage:h.a,whitelist:["auth"]},Ze=Object(d.a)(Ke,Xe),$e=b.a.create({baseURL:Q.server_url+"api",timeout:Q.request_timeout,headers:{Accept:"application/json","Content-Type":"application/json"}}),et=Object(s.d)(Ze,Object(s.a)(m.a.withExtraArgument($e))),tt=Object(d.b)(et);$e.interceptors.request.use((function(e){if(!e.headers.Authorization){var t=et.getState();L(t)&&(e.headers.Authorization="Bearer ".concat(function(e){return!!e.auth.token&&e.auth.token.access_token}(t)))}return e})),$e.interceptors.request.use((function(e){return console.log(e),e})),$e.interceptors.response.use((function(e){return console.log(e),e}));var nt=n(55),at=n(56),rt=n(58),lt=n(57),it=n(59),ot=n(160),ct=n(648),ut=function(e){var t=e.style,n=e.options,a=e.message,l=e.close,i=Object(ot.a)({},n.type,!0);return r.a.createElement("div",{style:t},r.a.createElement(ct.a,Object.assign({onDismiss:l,content:r.a.createElement("p",{style:{paddingLeft:16}},a)},i)))},st=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(rt.a)(this,(e=Object(lt.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},n}return Object(it.a)(t,e),Object(at.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.requestInterceptor=$e.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.responseInterceptor=$e.interceptors.response.use((function(e){return e}),(function(t){console.log(t),t.response&&t.response.data&&t.response.data.message&&e.props.alert.error(JSON.stringify(t.response.data.message)),e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){$e.interceptors.request.eject(this.requestInterceptor),$e.interceptors.response.eject(this.responseInterceptor)}},{key:"componentDidCatch",value:function(e,t){console.log(e),e&&e.message&&this.props.alert.error(JSON.stringify(e.message))}},{key:"render",value:function(){return this.props.children}}]),t}(r.a.Component),mt=Object(u.d)()(st),dt=n(39),pt=n(82),ht=n(644),ft=n(630),bt=n(223),Et=n(303),yt=n(302),gt=n(91);function vt(e){var t=e.children;return r.a.createElement("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},t)}var _t=function(e){var t=e.history,n=Object(o.c)();return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(ft.a,{icon:!0,labelPosition:"right",onClick:function(){n(N()),t.goBack()}},"\u0628\u0627\u0632\u06af\u0634\u062a",r.a.createElement(gt.a,{name:"chevron left"})))},wt=n(44),Ot=n(641),jt=n(129),kt=n(643),St=n(215),Nt=n.n(St),Ct=n(323),xt=n.n(Ct),Ft=n(305),qt=n(29),It={REQUIRED:function(e){return e&&""!==e?void 0:"\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0631\u0627 \u067e\u0631 \u06a9\u0646\u06cc\u062f"},MAX_LEN:function(e){return function(t){return t&&t.length>e?"\u0628\u0627\u06cc\u062f \u06a9\u0645\u062a\u0631 \u0627\u0632 ".concat(e," \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"):void 0}},MIN_LEN:function(e){return function(t){return t&&t.length<e?"\u0628\u0627\u06cc\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 ".concat(e," \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"):void 0}},MAX_VAL:function(e){return function(t){return t&&t>e?"\u0628\u0627\u06cc\u062f \u06a9\u0645\u062a\u0631 \u0627\u0632 ".concat(e," \u0628\u0627\u0634\u062f"):void 0}},MIN_VAL:function(e){return function(t){return t&&t<e?"\u0628\u0627\u06cc\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 ".concat(e," \u0628\u0627\u0634\u062f"):void 0}}},Dt=function(e){var t=e.input,n=e.meta,a=e.children,l=Object(dt.a)(e,["input","meta","children"]);return r.a.createElement(ht.a.Input,Object.assign({},l,t,{children:a,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))},Rt=function(e){for(var t=e.input,n=(e.meta,e.children,e.asNumber),a=Object(dt.a)(e,["input","meta","children","asNumber"]),l=JSON.parse(t.value?t.value:"[]"),i=l?l.length:0,o=[],c=function(e){o.push(r.a.createElement(Ot.a,{key:e,name:a.name+" "+e,value:l[e],onChange:function(a,r){var i=r.value;l[e]=n?Number(i):i,t.onChange(JSON.stringify(l))},action:{icon:"minus",color:"red",onClick:function(n){n.preventDefault(),l.splice(e,1),t.onChange(JSON.stringify(l))}},fluid:!0,style:{marginTop:e>0?16:0}}))},u=0;u<i;u++)c(u);return r.a.createElement(r.a.Fragment,null,r.a.createElement(bt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},a.label),r.a.createElement(gt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",style:{cursor:"pointer",float:"left"},onClick:function(){l.push(""),t.onChange(JSON.stringify(l))}})),r.a.createElement(bt.a,{raised:!0,attached:"bottom"},o))},Tt=function(e){var t=e.input,n=e.meta,a=e.children,l=Object(dt.a)(e,["input","meta","children"]);return r.a.createElement(ht.a.Dropdown,Object.assign({},l,{selection:!0},t,{children:a,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))},Lt=[{key:"null",text:"",value:void 0},{key:"true",text:"True",value:1},{key:"false",text:"False",value:0}];function zt(e){var t=e.input,n=e.meta,a=e.children,l=e.entityName,i=e.formName,c=Object(dt.a)(e,["input","meta","children","entityName","formName"]),u=Object(o.d)((function(e){return e.flow})),s=Object(o.c)(),m=Object(o.d)((function(e){return Object(Ft.a)(i)(e)})),d=i+"/"+l,p=r.a.createElement(ft.a,{icon:"search",as:me.b,to:"/".concat(l),onClick:function(){return s(function(e,t){return{type:g,payload:{code:e,carry:t}}}(d,m))}});return u.selectionState===k&&u.selectionCode===d&&(s(Object(qt.a)(i,u.selectionCarry)),t.onChange(u.selectedEntity.id),s(N())),r.a.createElement(ht.a.Input,Object.assign({},c,t,{children:a,action:p,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))}function At(e){var t=e.input,n=(e.meta,e.children),a=Object(dt.a)(e,["input","meta","children"]),l=t.value?Nt()(t.value,"YYYY-MM-DD HH:mm:ss").toDate():void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,null,a.label),r.a.createElement(xt.a,Object.assign({selected:l,onChange:function(e){t.onChange(Nt()(e).format("YYYY-MM-DD HH:mm:ss"))},showTimeSelect:!0,dateFormat:"yyyy MMMM d, HH:mm",timeFormat:"HH:mm",timeIntervals:60,children:n},a)),r.a.createElement("div",{style:{height:8}}))}function Ut(e){var t=e.input,n=e.meta,l=e.children,i=Object(dt.a)(e,["input","meta","children"]),o=Object(a.useRef)(null),c=Object(a.useState)(""),u=Object(wt.a)(c,2),s=u[0],m=u[1],d=Object(a.useState)(null),p=Object(wt.a)(d,2),h=p[0],f=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Input,Object.assign({},i,{value:s,children:l,error:!!(n&&n.touched&&n.invalid)&&n.error,action:r.a.createElement(ft.a,{icon:"file",onClick:function(e){e.preventDefault(),o&&o.current&&o.current.click()}})})),r.a.createElement("input",{ref:o,type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.preventDefault();var n=e.target.files;if(n&&n[0]){m(n[0].name);var a=new FileReader;a.onload=function(e){return f(e.target.result)},a.readAsDataURL(n[0]),t.onChange(n[0])}else f(null)}}),r.a.createElement("div",{style:{height:8}}),r.a.createElement(M.a,{hidden:!h,src:h,size:"large",style:{marginBottom:16}}))}var Mt=function(e){for(var t=e.input,n=(e.meta,e.children,e.path),l=Object(dt.a)(e,["input","meta","children","path"]),i=Object(a.useState)(null),o=Object(wt.a)(i,2),c=o[0],u=o[1],s=Object(a.useState)(!1),m=Object(wt.a)(s,2),d=m[0],p=m[1],h=Object(a.useState)(!1),f=Object(wt.a)(h,2),b=f[0],E=f[1],y=function(){return p(!1)},g=JSON.parse(t.value?t.value:"[]"),v=g?g.length:0,_=[],w=function(e){_.push(r.a.createElement("div",{key:e},r.a.createElement(M.a,{src:"".concat(Q.server_url,"storage/").concat(g[e]),style:{maxWidth:"90%",display:"inline-block"}}),r.a.createElement(gt.a,{name:"times",color:"red",circular:!0,inverted:!0,style:{marginRight:8},onClick:function(n){var a;n.preventDefault(),a=g[e],$e.delete("files",{data:{path:a}}),g.splice(e,1),t.onChange(JSON.stringify(g))}})))},O=0;O<v;O++)w(O);return r.a.createElement(r.a.Fragment,null,r.a.createElement(bt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},l.label),r.a.createElement(kt.a,{trigger:r.a.createElement(gt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",onClick:function(){return p(!0)},style:{cursor:"pointer",float:"left"}}),open:d,onClose:y},r.a.createElement(kt.a.Header,null,"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"),r.a.createElement(kt.a.Content,null,r.a.createElement(Ut,{input:{onChange:u}}),r.a.createElement(ft.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:!c,loading:b,onClick:function(){E(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),$e.post("files",n)}(c,n).then((function(e){e&&(g.push(e.data.relative_path),t.onChange(JSON.stringify(g)),y())})).finally((function(){E(!1)}))}},r.a.createElement(gt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647")))),r.a.createElement(bt.a,{raised:!0,attached:"bottom"},_))};var Qt=It.MIN_LEN(6),Pt=Object(Et.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.invalid,l=e.submitting;return r.a.createElement(ht.a,{onSubmit:t},r.a.createElement(yt.a,{component:Dt,name:"username",label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",autoFocus:!0,required:!0,validate:It.REQUIRED}),r.a.createElement(yt.a,{component:Dt,name:"password",label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",type:"password",required:!0,validate:[It.REQUIRED,Qt]}),r.a.createElement(ft.a,{type:"submit",primary:!0,disabled:n||a,loading:l},"\u0648\u0631\u0648\u062f"))})),Yt=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(rt.a)(this,(e=Object(lt.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){return n.props.login(e.username,e.password)},n}return Object(it.a)(t,e),Object(at.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"#abc"}},r.a.createElement(vt,null,r.a.createElement(bt.a,{raised:!0,style:{width:400}},r.a.createElement(Pt,{onSubmit:this.onSubmit}))))}}]),t}(r.a.Component),Jt=Object(o.b)(null,(function(e){return{login:function(t,n){return e(I(t,n))}}}))(Yt),Gt=n(338),Ht=n(649),Vt=n(337),Bt=n(646),Wt=n(642),Xt=Object(o.b)(null,(function(e){return{logout:function(){return e(D())}}}))(Object(pt.g)((function(e){var t=e.location,n=e.logout,a=t.pathname.split("/")[1];return r.a.createElement(Vt.a,{attached:!0,inverted:!0},r.a.createElement(Vt.a.Item,{name:"\u06af\u0632\u0627\u0631\u0634",active:"report"===a,color:"blue",icon:"dashboard",link:!0,as:me.b,to:"/report"}),r.a.createElement(Vt.a.Item,{as:Bt.a,item:!0,text:"\u062c\u062f\u0627\u0648\u0644",active:["users","questions"].indexOf(a)>=0,color:"blue"},r.a.createElement(Bt.a.Menu,null,r.a.createElement(Bt.a.Item,{text:"\u0627\u062e\u0628\u0627\u0631",icon:"bullhorn",as:me.b,to:"/news"}),r.a.createElement(Bt.a.Item,{text:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",icon:"users",as:me.b,to:"/users"}),r.a.createElement(Bt.a.Item,{text:"\u0633\u0624\u0627\u0644\u0627\u062a",icon:"question",as:me.b,to:"/questions"}),r.a.createElement(Bt.a.Item,{text:"\u062a\u0644\u0627\u0634\u200c\u0647\u0627",icon:"clipboard",as:me.b,to:"/answers"}),r.a.createElement(Bt.a.Item,{text:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627",icon:"gift",as:me.b,to:"/hints"}),r.a.createElement(Bt.a.Item,{text:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627",icon:"trophy",as:me.b,to:"/achievements"}))),r.a.createElement(Vt.a.Item,{name:"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a",active:"setting"===a,color:"blue",icon:"setting",link:!0,as:me.b,to:"/settings"}),r.a.createElement(Vt.a.Menu,{position:"right"},r.a.createElement(Vt.a.Item,{active:!0,color:"red",name:"\u062e\u0631\u0648\u062c",icon:"sign-out",onClick:n})))})));var Kt=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt,null),r.a.createElement(Wt.a,{style:{margin:"16px 0"}},t))},Zt=n(647),$t=function(e){return function(t,n){var a=function(e,t){return function(n){var a={key:n.key+t},l=e[n.key];if(n.render)if("string"===typeof n.render)switch(n.render){case"boolean":var i=r.a.createElement(gt.a,{name:"check",size:"large",color:"green"}),o=r.a.createElement(gt.a,{name:"times",size:"large",color:"red"});a.children=l?i:o;break;case"image":a.children=r.a.createElement(M.a,{src:l,size:"large"});break;default:a.children=null}else a.children=n.render(e);else a.children=l;return a}}(t,n);return{key:n,cells:e.map((function(e){return a(e)}))}}},en=function(e,t,n,a){return e.map((function(e){return{key:e.key,sorted:t===e.key?"asc"===n?"ascending":"descending":null,onClick:function(){e.sortable&&a(e.key,t===e.key&&"asc"===n?"desc":"asc")},children:e.header}}))},tn=function(e,t){for(var n=t.current_page,a=t.last_page,l=t.per_page,i=t.setPage,o=t.setPageSize,c=[],u=function(e){e>=1&&e<=a&&c.push(r.a.createElement(Vt.a.Item,{key:"page_".concat(e),as:"a",active:e===n,onClick:function(){return i(e)}},e))},s=n-2;s<n+3;s++)u(s);return r.a.createElement(Zt.a.Row,null,r.a.createElement(Zt.a.HeaderCell,{colSpan:e},r.a.createElement(Vt.a,{pagination:!0,style:{direction:"ltr"}},r.a.createElement(Vt.a.Item,{as:"a",icon:!0,onClick:function(){return t.setPage(1)}},r.a.createElement(gt.a,{name:"angle double left"})),c,r.a.createElement(Vt.a.Item,{as:"a",icon:!0,onClick:function(){return t.setPage(a)}},r.a.createElement(gt.a,{name:"angle double right"}))),r.a.createElement("span",{style:{marginRight:16}},r.a.createElement("span",{style:{marginLeft:4}},"\u062f\u0631 \u0647\u0631 \u0635\u0641\u062d\u0647:"),r.a.createElement(Bt.a,{selection:!0,value:l,style:{minWidth:48},options:[10,20,50,100].map((function(e){return{key:e,text:e,value:e}})),onChange:function(e,t){var n=t.value;return o(n)}})),r.a.createElement(Ht.a,{size:"mini",floated:"right"},r.a.createElement(Ht.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u0635\u0641\u062d\u0627\u062a"),r.a.createElement(Ht.a.Value,null,a))))};function nn(e){var t=e.schema,n=e.data,a=e.pagination,l=e.sortCol,i=e.sortDir,o=e.onSort;return n||(n=[]),r.a.createElement(Zt.a,{celled:!0,sortable:!0,headerRow:en(t,l,i,o),renderBodyRow:$t(t),footerRow:a?tn(t.length,a):void 0,tableData:n})}var an={id:{label:"\u0634\u0646\u0627\u0633\u0647"},name:{label:"\u0646\u0627\u0645"},phone:{label:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647"},email:{label:"\u0627\u06cc\u0645\u06cc\u0644"},role:{label:"\u0646\u0642\u0634",options:[{key:"null",text:"",value:void 0},{key:"admin",text:"admin",value:"admin"},{key:"user",text:"user",value:"user"}]},is_active:{label:"\u0641\u0639\u0627\u0644"},password:{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},passwordConfirm:{label:"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},coin_1:{label:"\u0633\u06a9\u0647 \u06f1"},coin_2:{label:"\u0633\u06a9\u0647 \u06f2"},score_daily:{label:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0631\u0648\u0632\u0627\u0646\u0647"},score_weekly:{label:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0647\u0641\u062a\u06af\u06cc"},level:{label:"\u0645\u0631\u062d\u0644\u0647"},ad_watch:{label:"\u062a\u0628\u0644\u06cc\u063a\u0627\u062a \u0645\u0634\u0627\u0647\u062f\u0647 \u0634\u062f\u0647"}},rn=function(e){function t(){return Object(nt.a)(this,t),Object(rt.a)(this,Object(lt.a)(t).apply(this,arguments))}return Object(it.a)(t,e),Object(at.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchReport()}},{key:"render",value:function(){var e=this.props.report;return console.log("Report:",e),r.a.createElement(Kt,null,r.a.createElement(bt.a,{attached:"top",raised:!0,textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h1",null,"\u06af\u0632\u0627\u0631\u0634")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",padded:!0},e.server&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Gt.a,{columns:4},r.a.createElement(Gt.a.Column,null,r.a.createElement(bt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0633\u0631\u0648\u0631")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",raised:!0},"\u0632\u0645\u0627\u0646: ",new Date(e.server.timestamp).toUTCString())),r.a.createElement(Gt.a.Column,null,r.a.createElement(bt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(Ht.a,null,r.a.createElement(Ht.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"),r.a.createElement(Ht.a.Value,null,e.users.count)))),r.a.createElement(Gt.a.Column,null,r.a.createElement(bt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0633\u0624\u0627\u0644\u0627\u062a")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(Ht.a,null,r.a.createElement(Ht.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u0633\u0624\u0627\u0644\u0627\u062a"),r.a.createElement(Ht.a.Value,null,e.questions.count)))),r.a.createElement(Gt.a.Column,null,r.a.createElement(bt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u062a\u0628\u0644\u06cc\u063a\u0627\u062a")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(Ht.a,null,r.a.createElement(Ht.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u0645\u0634\u0627\u0647\u062f\u0627\u062a"),r.a.createElement(Ht.a.Value,null,e.users.ad_watch_count))))),r.a.createElement(Gt.a,{columns:2},r.a.createElement(Gt.a.Column,null,r.a.createElement(bt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0644\u06cc\u062f\u0631\u0628\u0631\u062f \u0631\u0648\u0632\u0627\u0646\u0647")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(nn,{schema:[{key:"id",header:"id"},{key:"name",header:an.name.label},{key:"score_daily",header:an.score_daily.label}],data:e.users.top_daily}))),r.a.createElement(Gt.a.Column,null,r.a.createElement(bt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0644\u06cc\u062f\u0631\u0628\u0631\u062f \u0647\u0641\u062a\u06af\u06cc")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(nn,{schema:[{key:"id",header:"id"},{key:"name",header:an.name.label},{key:"score_weekly",header:an.score_weekly.label}],data:e.users.top_weekly})))),r.a.createElement(bt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0644\u06cc\u062f\u0631\u0628\u0631\u062f \u062a\u0628\u0644\u06cc\u063a\u0627\u062a")),r.a.createElement(bt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(nn,{schema:[{key:"id",header:"id"},{key:"name",header:an.name.label},{key:"ad_watch",header:an.ad_watch.label}],data:e.users.ad_watch})))))}}]),t}(r.a.Component),ln=Object(o.b)((function(e){return{report:e.report}}),(function(e){return{fetchReport:function(){return e((function(e,t,n){return console.log("Fetching report"),n.get("/admin/v1/report").then((function(t){return e({type:z,payload:t?t.data:void 0})}))}))}}}))(rn),on=n(336),cn=n(171),un=n.n(cn),sn=Object(u.d)()((function(e){var t=e.history,n=e.entityName,a=e.tableSchema,l=e.data,i=e.pagination,c=e.deleteAction,u=e.alert,s=e.sortCol,m=e.sortDir,d=e.onSort,p=Object(o.d)((function(e){return e.flow})),h=Object(o.c)(),f=function(e){return r.a.createElement(gt.a,{name:"check",color:"green",style:{cursor:"pointer"},onClick:function(){h(function(e){return{type:v,payload:{entity:e}}}(e)),t.goBack()}})},b=[{key:"operations",header:"\u0639\u0645\u0644\u06cc\u0627\u062a",render:function(e){return r.a.createElement(r.a.Fragment,null,p.selectionState===j&&f(e),function(e){return r.a.createElement(me.b,{to:"/".concat(n,"/").concat(e?e.id:"?")},r.a.createElement(gt.a,{name:"edit",color:"black",style:{cursor:"pointer"}}))}(e),function(e){return r.a.createElement(kt.a,{trigger:r.a.createElement(gt.a,{name:"times",size:"large",color:"red",style:{cursor:"pointer"}}),header:"\u0647\u0634\u062f\u0627\u0631!",content:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f\u061f",actions:[{key:"yes",content:"\u0628\u0644\u0647",negative:!0,onClick:function(){return c(e?e.id:void 0).then((function(){return u.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f")}))}},{key:"no",content:"\u062e\u06cc\u0631"}]})}(e))}}].concat(Object(on.a)(a));return r.a.createElement(nn,{schema:b,data:l,pagination:i,sortCol:s,sortDir:m,onSort:d})})),mn=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(rt.a)(this,(e=Object(lt.a)(t)).call.apply(e,[this].concat(r)))).state={page:1,page_size:20,sortCol:null,sortDir:null},n.SF=void 0,n.onSubmit=function(e){var t=un.a.parse(n.props.location.search);return n.props.fetchMethod({filter:Object(y.a)({},t,{},e),page:n.state.page,page_size:n.state.page_size,sortCol:n.state.sortCol,sortDir:n.state.sortDir})},n.search=function(){return n.props.search("".concat(n.props.entityName,"/search"))},n.setPage=function(e){n.setState({page:e},n.search)},n.setPageSize=function(e){n.setState({page_size:e},n.search)},n}return Object(it.a)(t,e),Object(at.a)(t,[{key:"componentDidMount",value:function(){this.onSubmit({})}},{key:"initForms",value:function(){var e,t;this.SF=(e=this.props.entityName,t=this.props.SearchFields,Object(Et.a)({form:"".concat(e,"/search")})((function(e){var n=e.handleSubmit,a=e.submitting,l=e.pristine,i=e.reset;return r.a.createElement(ht.a,{onSubmit:n},t(e),r.a.createElement(ft.a,{type:"submit",icon:!0,labelPosition:"left",primary:!0,loading:a},r.a.createElement(gt.a,{name:"search"}),"\u062c\u0633\u062a\u062c\u0648"),r.a.createElement(ft.a,{type:"button",icon:!0,labelPosition:"left",secondary:!0,disabled:l||a,onClick:i},r.a.createElement(gt.a,{name:"refresh"}),"\u067e\u0627\u06a9\u200c\u0633\u0627\u0632\u06cc \u0641\u0631\u0645"))})))}},{key:"render",value:function(){var e=this;if(void 0===this.props.entityList)return null;this.props.SearchFields&&!this.SF&&this.initForms();var t=this.props.entityList,n=t.data,a=t.current_page,l=t.last_page,i=this.props.location.search,o=this.props,c=o.title,u=o.entityName,s=o.tableSchema,m=o.deleteAction;return r.a.createElement(Kt,null,r.a.createElement(bt.a,{raised:!0,textAlign:"center",color:"blue",inverted:!0,attached:"top"},r.a.createElement("h1",null,c)),r.a.createElement(bt.a,{attached:!0},r.a.createElement(_t,{history:this.props.history}),this.props.SearchFields&&r.a.createElement(this.SF,{onSubmit:this.onSubmit})),r.a.createElement(bt.a,{attached:"bottom"},r.a.createElement(ft.a,{color:"green",icon:!0,labelPosition:"left",as:me.b,to:"/".concat(u,"/new").concat(i)},r.a.createElement(gt.a,{name:"plus"}),"\u062c\u062f\u06cc\u062f"),r.a.createElement(sn,{entityName:u,tableSchema:s,data:n,sortCol:this.state.sortCol,sortDir:this.state.sortDir,onSort:function(t,n){return e.setState({sortCol:t,sortDir:n},e.search)},history:this.props.history,pagination:{current_page:a,last_page:l,per_page:this.state.page_size,setPage:this.setPage,setPageSize:this.setPageSize},deleteAction:m})))}}]),t}(r.a.Component),dn=Object(o.b)(null,(function(e){return{search:function(t){return e(Object(qt.b)(t))}}}))(mn);var pn=Object(o.b)((function(e){return{entityList:e.news.entityList}}),(function(e){return{fetchMethod:function(t){return e(B(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting news:",e),e)return a.delete("/admin/v1/news/".concat(e)).then((function(e){return t(B())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u0627\u062e\u0628\u0627\u0631",entityName:"news",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:Tt,name:"is_active",label:P.is_active.label,options:Lt})))},tableSchema:[{key:"image",header:P.image.label},{key:"is_active",header:P.is_active.label,render:"boolean"}]}))})),hn=function(e,t,n){return Object(Et.a)({form:"".concat(e,"/").concat(n?"new":"edit"),enableReinitialize:!0})((function(e){var n=e.handleSubmit,a=e.submitting,l=e.pristine,i=e.reset;return r.a.createElement(ht.a,{onSubmit:n},t(e),r.a.createElement(ft.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:l,loading:a},r.a.createElement(gt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"),r.a.createElement(ft.a,{type:"button",secondary:!0,icon:!0,labelPosition:"left",disabled:l||a,onClick:i},r.a.createElement(gt.a,{name:"refresh"}),"\u0644\u063a\u0648 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"))}))},fn=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(rt.a)(this,(e=Object(lt.a)(t)).call.apply(e,[this].concat(r)))).NF=void 0,n.EF=void 0,n.fetchEntity=function(e){return n.props.fetchEntity(e)},n.updateEntity=function(e){return function(t){return n.props.updateEntity(e,t).then((function(){return n.props.alert.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0635\u0644\u0627\u062d \u0634\u062f")}))}},n.newEntity=function(e){return n.props.newEntity(e).then((function(){n.props.alert.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f"),n.props.history.goBack()}))},n}return Object(it.a)(t,e),Object(at.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.fetchEntity(e):this.props.resetEntity(un.a.parse(this.props.location.search))}},{key:"initForms",value:function(){this.NF=hn(this.props.entityName,this.props.NewFields,!0),this.EF=hn(this.props.entityName,this.props.EditFields,!1)}},{key:"render",value:function(){this.props.NewFields&&!this.NF&&this.initForms(),this.props.EditFields&&!this.EF&&this.initForms();var e=this.props.match.params.id,t=this.props,n=t.title,a=t.entity;return r.a.createElement(Kt,null,r.a.createElement("div",{style:{maxWidth:600,margin:"0 auto"}},r.a.createElement(bt.a,{raised:!0,attached:"top",textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h2",null,n)),r.a.createElement(bt.a,{raised:!0,padded:!0,attached:"bottom"},r.a.createElement(_t,{history:this.props.history}),e?this.props.EditFields&&r.a.createElement(this.EF,{onSubmit:this.updateEntity(e),initialValues:a}):this.props.NewFields&&r.a.createElement(this.NF,{onSubmit:this.newEntity,initialValues:a}))))}}]),t}(r.a.Component),bn=Object(u.d)()(fn);var En=Object(o.b)((function(e){return{entity:e.news.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:G,payload:e}}(t))},fetchEntity:function(t){return e(W(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating news:",e),e&&t)return r.put("/admin/v1/news/".concat(e),t).then((function(t){return n(W(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating news"),e){var r=new FormData;return r.append("file",e.image),r.append("path","news_img"),a.post("files",r).then((function(t){if(t)return e.image=t.data.relative_path,a.post("/admin/v1/news",e)}))}}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u062e\u0628\u0631",entityName:"news",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Ut,name:"image",label:P.image.label}),r.a.createElement(yt.a,{component:Tt,name:"is_active",label:P.is_active.label,options:Lt}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"id",label:P.id.label,disabled:!0}),r.a.createElement(yt.a,{component:Ut,name:"image",label:P.image.label,disabled:!0}),r.a.createElement(yt.a,{component:Tt,name:"is_active",label:P.is_active.label,options:Lt}))}}))}));function yn(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:pn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:En}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:En}))}var gn=Object(o.b)((function(e){return{entityList:e.users.entityList}}),(function(e){return{fetchMethod:function(t){return e(ee(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user:",e),e)return a.delete("/admin/v1/users/".concat(e)).then((function(e){return t(ee())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"users",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:Dt,name:"id",label:an.id.label}),r.a.createElement(yt.a,{component:Dt,name:"name",label:an.name.label}),r.a.createElement(yt.a,{component:Dt,name:"phone",label:an.phone.label}),r.a.createElement(yt.a,{component:Dt,name:"email",label:an.email.label})),r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:Tt,name:"role",label:an.role.label,options:an.role.options}),r.a.createElement(yt.a,{component:Tt,name:"is_active",label:an.is_active.label,options:Lt})))},tableSchema:[{key:"id",sortable:!0,header:an.id.label},{key:"name",sortable:!0,header:an.name.label},{key:"phone",sortable:!0,header:an.phone.label},{key:"email",sortable:!0,header:an.email.label},{key:"role",header:an.role.label},{key:"is_active",header:an.is_active.label,render:"boolean"},{key:"ad_watch",sortable:!0,header:an.ad_watch.label}]}))}));var vn=Object(o.b)((function(e){return{entity:e.users.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:K,payload:e}}(t))},fetchEntity:function(t){return e(te(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user:",e),e&&t)return r.put("/admin/v1/users/".concat(e),t).then((function(t){return n(te(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user"),e)return a.post("/register",e)}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u06a9\u0627\u0631\u0628\u0631",entityName:"users",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"name",label:an.name.label,required:!0,validate:It.REQUIRED}),r.a.createElement(yt.a,{component:Dt,name:"phone",label:an.phone.label}),r.a.createElement(yt.a,{component:Dt,name:"email",label:an.email.label}),r.a.createElement(yt.a,{component:Dt,name:"password",label:an.password.label,type:"password",required:!0,validate:It.REQUIRED}),r.a.createElement(yt.a,{component:Dt,name:"passwordConfirm",label:an.passwordConfirm.label,type:"password",required:!0,validate:It.REQUIRED}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"name",label:an.name.label,required:!0,validate:It.REQUIRED}),r.a.createElement(yt.a,{component:Dt,name:"phone",label:an.phone.label}),r.a.createElement(yt.a,{component:Dt,name:"email",label:an.email.label}),r.a.createElement(yt.a,{component:Tt,name:"role",label:an.role.label,options:an.role.options,required:!0,validate:It.REQUIRED}),r.a.createElement(yt.a,{component:Tt,name:"is_active",label:an.is_active.label,options:Lt}),r.a.createElement(yt.a,{component:Dt,name:"coin_1",label:an.coin_1.label}),r.a.createElement(yt.a,{component:Dt,name:"coin_2",label:an.coin_2.label}),r.a.createElement(yt.a,{component:Dt,name:"score_daily",label:an.score_daily.label}),r.a.createElement(yt.a,{component:Dt,name:"score_weekly",label:an.score_weekly.label}),r.a.createElement(yt.a,{component:Dt,name:"level",label:an.level.label}),r.a.createElement(yt.a,{component:Dt,name:"ad_watch",label:an.ad_watch.label}),r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement(ft.a,{as:me.b,to:"/user_hints?user_id=".concat(e.initialValues?e.initialValues.id:"null")},"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627"),r.a.createElement(ft.a,{as:me.b,to:"/user_achievements?user_id=".concat(e.initialValues?e.initialValues.id:"null")},"\u0645\u062f\u0627\u0644\u200c\u0647\u0627")))}}))}));function _n(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:gn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:vn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:vn}))}var wn=Object(o.b)((function(e){return{entityList:e.questions.entityList}}),(function(e){return{fetchMethod:function(t){return e(ue(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting question:",e),e)return a.delete("/admin/v1/questions/".concat(e)).then((function(e){return t(ue())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u0633\u0624\u0627\u0644\u0627\u062a",entityName:"questions",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:Dt,name:"id",label:ae.id.label}),r.a.createElement(yt.a,{component:Dt,name:"title",label:ae.title.label})),r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:Tt,options:ae.locale.options,name:"locale",label:ae.locale.label}),r.a.createElement(yt.a,{component:Tt,options:ae.time_type.options,name:"time_type",label:ae.time_type.label}),r.a.createElement(yt.a,{component:Tt,options:ae.answer_type.options,name:"answer_type",label:ae.answer_type.label})))},tableSchema:[{key:"id",sortable:!0,header:ae.id.label},{key:"locale",header:ae.locale.label},{key:"title",sortable:!0,header:ae.title.label},{key:"time_type",sortable:!0,header:ae.time_type.label},{key:"answer_type",sortable:!0,header:ae.answer_type.label},{key:"start_time",sortable:!0,header:ae.start_time.label},{key:"end_time",sortable:!0,header:ae.end_time.label}]}))})),On=function(e){for(var t=e.input,n=(e.meta,e.children,e.path,Object(dt.a)(e,["input","meta","children","path"])),l=Object(a.useState)(!1),i=Object(wt.a)(l,2),o=i[0],c=i[1],u=function(){return c(!1)},s=t.value?JSON.parse(t.value):[],m=s?s.length:0,d=[],p=0;p<m;p++)d.push(r.a.createElement(jn,{key:p,entity:s[p],index:p,values:s,input:t}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(bt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},n.label),r.a.createElement(kt.a,{trigger:r.a.createElement(gt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",onClick:function(){return c(!0)},style:{cursor:"pointer",float:"left"}}),open:o,onClose:u},r.a.createElement(kt.a.Content,null,r.a.createElement((function(){var e=Object(a.useState)({type:"text",value:null}),n=Object(wt.a)(e,2),l=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(wt.a)(o,2),m=c[0],d=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Dropdown,{selection:!0,options:[{key:"text",text:"\u0645\u062a\u0646\u06cc",value:"text"},{key:"image",text:"\u062a\u0635\u0648\u06cc\u0631\u06cc",value:"image"}],value:l.type,onChange:function(e,t){var n=t.value;return i({type:n,value:null})}}),r.a.createElement("div",{style:{height:8}}),"image"===l.type?r.a.createElement(Ut,{input:{onChange:function(e){return i({type:"image",value:e})}}}):null,r.a.createElement(ft.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:"image"===l.type&&!l.value,onClick:function(){"text"===l.type?(s.push({type:"text",value:""}),t.onChange(JSON.stringify(s)),u()):(d(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),$e.post("files",n)}(l.value,"q_img").then((function(e){e&&(s.push({type:"image",value:e.data.relative_path}),t.onChange(JSON.stringify(s)),u())})).finally((function(){d(!1)})))},loading:m},r.a.createElement(gt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"))}),null)))),r.a.createElement(bt.a,{raised:!0,attached:"bottom"},d))},jn=function(e){var t=e.entity,n=e.index,a=e.values,l=e.input;return r.a.createElement("div",{style:{margin:"4px 0"}},"image"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{src:"".concat(Q.server_url,"storage/").concat(t.value),style:{maxWidth:"90%",display:"inline-block"}}),r.a.createElement(gt.a,{name:"times",color:"red",circular:!0,inverted:!0,style:{marginRight:8},onClick:function(e){var t;e.preventDefault(),t=a[n],$e.delete("files",{data:{path:t}}),a.splice(n,1),l.onChange(JSON.stringify(a))}})):r.a.createElement(Ot.a,{fluid:!0,value:t.value,onChange:function(e,t){var r=t.value;a[n].value=r,l.onChange(JSON.stringify(a))},action:{icon:"minus",color:"red",onClick:function(e){e.preventDefault(),a.splice(n,1),l.onChange(JSON.stringify(a))}},style:{marginTop:n>0?16:0}}))};var kn=Object(o.b)((function(e){return{entity:e.questions.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:ie,payload:e}}(t))},fetchEntity:function(t){return e(se(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating question:",e),e&&t)return r.put("/admin/v1/questions/".concat(e),t).then((function(t){return n(se(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating question"),e)return a.post("/admin/v1/questions",e)}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u0633\u0624\u0627\u0644",entityName:"questions",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Tt,options:ae.locale.options,name:"locale",label:ae.locale.label}),r.a.createElement(yt.a,{component:Dt,name:"title",label:ae.title.label}),r.a.createElement(yt.a,{component:Tt,options:ae.time_type.options,name:"time_type",label:ae.time_type.label}),r.a.createElement(yt.a,{component:Tt,options:ae.answer_type.options,name:"answer_type",label:ae.answer_type.label}),r.a.createElement(yt.a,{component:At,name:"start_time",label:ae.start_time.label}),r.a.createElement(yt.a,{component:At,name:"end_time",label:ae.end_time.label}),r.a.createElement(yt.a,{component:Dt,name:"score",label:ae.score.label}),r.a.createElement(yt.a,{component:Dt,name:"tries",label:ae.tries.label}),r.a.createElement(yt.a,{component:Mt,name:"images",label:ae.images.label,path:"q_img"}),r.a.createElement(yt.a,{component:On,name:"choices",label:ae.choices.label}),r.a.createElement(yt.a,{component:Rt,name:"letters",label:ae.letters.label}),r.a.createElement(yt.a,{component:Rt,name:"letters_num",label:ae.letters_num.label,asNumber:!0}),r.a.createElement(yt.a,{component:Rt,name:"solutions",label:ae.solutions.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"id",label:ae.id.label,disabled:!0}),r.a.createElement(yt.a,{component:Tt,options:ae.locale.options,name:"locale",label:ae.locale.label}),r.a.createElement(yt.a,{component:Dt,name:"title",label:ae.title.label}),r.a.createElement(yt.a,{component:Tt,options:ae.time_type.options,name:"time_type",label:ae.time_type.label}),r.a.createElement(yt.a,{component:Tt,options:ae.answer_type.options,name:"answer_type",label:ae.answer_type.label}),r.a.createElement(yt.a,{component:At,name:"start_time",label:ae.start_time.label}),r.a.createElement(yt.a,{component:At,name:"end_time",label:ae.end_time.label}),r.a.createElement(yt.a,{component:Dt,name:"score",label:ae.score.label}),r.a.createElement(yt.a,{component:Dt,name:"tries",label:ae.tries.label}),r.a.createElement(yt.a,{component:Mt,name:"images",label:ae.images.label,path:"q_img"}),r.a.createElement(yt.a,{component:On,name:"choices",label:ae.choices.label}),r.a.createElement(yt.a,{component:Rt,name:"letters",label:ae.letters.label}),r.a.createElement(yt.a,{component:Rt,name:"letters_num",label:ae.letters_num.label,asNumber:!0}),r.a.createElement(yt.a,{component:Rt,name:"solutions",label:ae.solutions.label}))}}))}));function Sn(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:wn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:kn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:kn}))}var Nn=Object(o.b)((function(e){return{entityList:e.answers.entityList}}),(function(e){return{fetchMethod:function(t){return e(ye(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting answer:",e),e)return a.delete("/admin/v1/answers/".concat(e)).then((function(e){return t(ye())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u062a\u0644\u0627\u0634\u200c\u0647\u0627",entityName:"answers",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:zt,entityName:"questions",formName:"answers/search",name:"question_id",label:de.question_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"answers/search",name:"user_id",label:de.user_id.label})),r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:Dt,name:"text",label:de.text.label}),r.a.createElement(yt.a,{component:Tt,name:"correct",label:de.correct.label,options:Lt})))},tableSchema:[{key:"question_id",sortable:!0,header:de.question_id.label},{key:"user_id",sortable:!0,header:de.user_id.label},{key:"text",header:de.text.label},{key:"correct",header:de.correct.label,render:"boolean"}]}))}));var Cn=Object(o.b)((function(e){return{entity:e.answers.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:fe,payload:e}}(t))},fetchEntity:function(t){return e(ge(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating answer:",e),e&&t)return r.put("/admin/v1/answers/".concat(e),t).then((function(t){return n(ge(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating answer"),e)return a.post("/admin/v1/answers",e)}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u062a\u0644\u0627\u0634",entityName:"answers",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:zt,entityName:"questions",formName:"answers/new",required:!0,validate:It.REQUIRED,name:"question_id",label:de.question_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"answers/new",required:!0,validate:It.REQUIRED,name:"user_id",label:de.user_id.label}),r.a.createElement(yt.a,{component:Dt,name:"text",label:de.text.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"id",label:de.id.label,disabled:!0}),r.a.createElement(yt.a,{component:zt,entityName:"questions",formName:"answers/edit",required:!0,validate:It.REQUIRED,name:"question_id",label:de.question_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"answers/edit",required:!0,validate:It.REQUIRED,name:"user_id",label:de.user_id.label}),r.a.createElement(yt.a,{component:Dt,name:"text",label:de.text.label,required:!0,validate:It.REQUIRED}),r.a.createElement(yt.a,{component:Tt,name:"correct",label:de.correct.label,options:Lt}))}}))}));function xn(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:Nn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:Cn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:Cn}))}var Fn=Object(o.b)((function(e){return{entityList:e.hints.entityList}}),(function(e){return{fetchMethod:function(t){return e(Se(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting hint:",e),e)return a.delete("/admin/v1/hints/".concat(e)).then((function(e){return t(Se())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627",entityName:"hints",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:zt,entityName:"questions",formName:"hints/search",name:"question_id",label:ve.question_id.label})))},tableSchema:[{key:"question_id",sortable:!0,header:ve.question_id.label},{key:"type",sortable:!0,header:ve.type.label},{key:"value",header:ve.value.label},{key:"price",sortable:!0,header:ve.price.label}]}))})),qn=n(306),In=function(e){var t=e.input,n=(e.meta,e.children,e.path,e.formProps);Object(dt.a)(e,["input","meta","children","path","formProps"]);switch(Object(o.d)((function(e){return Object(qn.a)(n.form)(e,"type")}))){case"image":return r.a.createElement(Dn,{value:t.value,onChange:t.onChange});case"choice":return r.a.createElement(Rt,{name:"choices",label:"\u0627\u0646\u062f\u06cc\u0633 \u06af\u0632\u06cc\u0646\u0647\u200c\u0647\u0627\u06cc \u062d\u0630\u0641\u06cc (\u0627\u0632 \u0635\u0641\u0631)",input:t});case"letter":return r.a.createElement(Rt,{name:"letters",label:"\u0627\u0646\u062f\u06cc\u0633 \u062d\u0631\u0648\u0641 \u062d\u0630\u0641\u06cc (\u0627\u0632 \u0635\u0641\u0631)",input:t});default:return null}};function Dn(e){var t=e.value,n=e.onChange,l=Object(a.useState)(!1),i=Object(wt.a)(l,2),o=i[0],c=i[1],u=Object(a.useState)(null),s=Object(wt.a)(u,2),m=s[0],d=s[1],p=Object(a.useState)(!1),h=Object(wt.a)(p,2),f=h[0],b=h[1],E=function(){return c(!1)};return r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement(kt.a,{trigger:r.a.createElement(ft.a,{onClick:function(e){e.preventDefault(),c(!0)}},"\u0627\u0646\u062a\u062e\u0627\u0628 \u062a\u0635\u0648\u06cc\u0631"),open:o,onClose:E},r.a.createElement(kt.a.Content,null,r.a.createElement(Ut,{input:{onChange:d}}),r.a.createElement(ft.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:!m,onClick:function(){b(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),$e.post("files",n)}(m,"q_img").then((function(e){e&&(n(e.data.relative_path),E())})).finally((function(){b(!1)}))},loading:f},r.a.createElement(gt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"))),t?r.a.createElement(M.a,{src:"".concat(Q.server_url,"storage/").concat(t)}):null)}var Rn=Object(o.b)((function(e){return{entity:e.hints.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:Oe,payload:e}}(t))},fetchEntity:function(t){return e(Ne(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating hint:",e),e&&t)return r.put("/admin/v1/hints/".concat(e),t).then((function(t){return n(Ne(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating hint"),e)return a.post("/admin/v1/hints",e)}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc",entityName:"hints",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:zt,entityName:"questions",formName:"hints/new",required:!0,validate:It.REQUIRED,name:"question_id",label:ve.question_id.label}),r.a.createElement(yt.a,{component:Dt,name:"price",label:ve.price.label}),r.a.createElement(yt.a,{component:Tt,options:ve.type.options,id:"type",name:"type",label:ve.type.label}),r.a.createElement(yt.a,{component:In,name:"value",label:ve.value.label,formProps:e}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"id",label:ve.id.label,disabled:!0}),r.a.createElement(yt.a,{component:zt,entityName:"questions",formName:"hints/edit",required:!0,validate:It.REQUIRED,name:"question_id",label:ve.question_id.label}),r.a.createElement(yt.a,{component:Dt,name:"price",label:ve.price.label}),r.a.createElement(yt.a,{component:Tt,options:ve.type.options,name:"type",label:ve.type.label}),r.a.createElement(yt.a,{component:In,name:"value",label:ve.value.label,formProps:e}))}}))}));function Tn(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:Fn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:Rn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:Rn}))}var Ln=Object(o.b)((function(e){return{entityList:e.user_hints.entityList}}),(function(e){return{fetchMethod:function(t){return e(Re(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user_hint:",e),e)return a.delete("/admin/v1/user_hints/".concat(e)).then((function(e){return t(Re())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"user_hints",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:zt,entityName:"hints",formName:"user_hints/search",name:"hint_id",label:Ce.hint_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"user_hints/search",name:"user_id",label:Ce.user_id.label})))},tableSchema:[{key:"hint_id",sortable:!0,header:Ce.hint_id.label},{key:"user_id",sortable:!0,header:Ce.user_id.label}]}))}));var zn=Object(o.b)((function(e){return{entity:e.user_hints.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:qe,payload:e}}(t))},fetchEntity:function(t){return e(Te(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user_hint:",e),e&&t)return r.put("/admin/v1/user_hints/".concat(e),t).then((function(t){return n(Te(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user_hint"),e)return a.post("/admin/v1/user_hints",e)}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc \u06a9\u0627\u0631\u0628\u0631",entityName:"user_hints",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:zt,entityName:"hints",formName:"user_hints/new",required:!0,validate:It.REQUIRED,name:"hint_id",label:Ce.hint_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"user_hints/new",required:!0,validate:It.REQUIRED,name:"user_id",label:Ce.user_id.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"id",label:Ce.id.label,disabled:!0}),r.a.createElement(yt.a,{component:zt,entityName:"hints",formName:"user_hints/edit",required:!0,validate:It.REQUIRED,name:"hint_id",label:Ce.hint_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"user_hints/edit",required:!0,validate:It.REQUIRED,name:"user_id",label:Ce.user_id.label}))}}))}));function An(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:Ln}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:zn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:zn}))}var Un={id:{label:"\u0634\u0646\u0627\u0633\u0647"},code:{label:"\u06a9\u062f"}};var Mn=Object(o.b)((function(e){return{entityList:e.achievements.entityList}}),(function(e){return{fetchMethod:function(t){return e(Me(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting achievement:",e),e)return a.delete("/admin/v1/achievements/".concat(e)).then((function(e){return t(Me())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627",entityName:"achievements",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:Dt,name:"code",label:Un.code.label})))},tableSchema:[{key:"code",sortable:!0,header:Un.code.label}]}))}));var Qn=Object(o.b)((function(e){return{entity:e.achievements.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:ze,payload:e}}(t))},fetchEntity:function(t){return e(Qe(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating achievement:",e),e&&t)return r.put("/admin/v1/achievements/".concat(e),t).then((function(t){return n(Qe(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating achievement"),e)return a.post("/admin/v1/achievements",e)}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644",entityName:"achievements",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"code",label:Un.code.label,required:!0,validate:It.REQUIRED}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"id",label:Un.id.label,disabled:!0}),r.a.createElement(yt.a,{component:Dt,name:"code",label:Un.code.label,required:!0,validate:It.REQUIRED}))}}))}));function Pn(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:Mn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:Qn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:Qn}))}var Yn=Object(o.b)((function(e){return{entityList:e.user_achievements.entityList}}),(function(e){return{fetchMethod:function(t){return e(Be(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user_achievement:",e),e)return a.delete("/admin/v1/user_achievements/".concat(e)).then((function(e){return t(Be())}))}}(t))}}}))((function(e){return r.a.createElement(dn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"user_achievements",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a.Group,{widths:"equal"},r.a.createElement(yt.a,{component:zt,entityName:"achievements",formName:"user_achievements/search",name:"achievement_id",label:Pe.achievement_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"user_achievements/search",name:"user_id",label:Pe.user_id.label})))},tableSchema:[{key:"achievement_id",sortable:!0,header:Pe.achievement_id.label},{key:"user_id",sortable:!0,header:Pe.user_id.label}]}))}));var Jn=Object(o.b)((function(e){return{entity:e.user_achievements.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:Ge,payload:e}}(t))},fetchEntity:function(t){return e(We(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user_achievement:",e),e&&t)return r.put("/admin/v1/user_achievements/".concat(e),t).then((function(t){return n(We(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user_achievement"),e)return a.post("/admin/v1/user_achievements",e)}}(t))}}}))((function(e){return r.a.createElement(bn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644 \u06a9\u0627\u0631\u0628\u0631",entityName:"user_achievements",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:zt,entityName:"achievements",formName:"user_achievements/new",required:!0,validate:It.REQUIRED,name:"achievement_id",label:Pe.achievement_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"user_achievements/new",required:!0,validate:It.REQUIRED,name:"user_id",label:Pe.user_id.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:Dt,name:"id",label:Pe.id.label,disabled:!0}),r.a.createElement(yt.a,{component:zt,entityName:"achievements",formName:"user_achievements/edit",required:!0,validate:It.REQUIRED,name:"achievement_id",label:Pe.achievement_id.label}),r.a.createElement(yt.a,{component:zt,entityName:"users",formName:"user_achievements/edit",required:!0,validate:It.REQUIRED,name:"user_id",label:Pe.user_id.label}))}}))}));function Gn(e){var t=e.match.url;return r.a.createElement(pt.d,null,r.a.createElement(pt.b,{exact:!0,path:"".concat(t),component:Yn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/new"),component:Jn}),r.a.createElement(pt.b,{exact:!0,path:"".concat(t,"/:id"),component:Jn}))}var Hn=n(651),Vn=Object(Et.a)({form:"settings/password_change"})((function(e){var t=e.handleSubmit,n=e.submitting,a=e.pristine,l=e.reset;return r.a.createElement(ht.a,{onSubmit:t},r.a.createElement(yt.a,{component:Dt,type:"password",required:!0,validate:It.REQUIRED,name:"old_password",label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0642\u062f\u06cc\u0645\u06cc"}),r.a.createElement(yt.a,{component:Dt,type:"password",required:!0,validate:It.REQUIRED,name:"new_password",label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),r.a.createElement(yt.a,{component:Dt,type:"password",required:!0,validate:It.REQUIRED,name:"new_password_confirm",label:"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),r.a.createElement(ft.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:a,loading:n},r.a.createElement(gt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"),r.a.createElement(ft.a,{type:"button",secondary:!0,icon:!0,labelPosition:"left",disabled:a||n,onClick:l},r.a.createElement(gt.a,{name:"refresh"}),"\u0644\u063a\u0648 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"))})),Bn=function(){var e=Object(o.c)();return r.a.createElement(Vn,{onSubmit:function(t){return e(function(e){var t=e.old_password,n=e.new_password,a=e.new_password_confirm;return function(e,r,l){if(n===a)return l.post("/password",{old_password:t,new_password:n}).then((function(t){t&&200===t.status&&(e(I(T(r()).phone,n)),alert("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u063a\u06cc\u06cc\u0631 \u06a9\u0631\u062f"))}));alert("\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a")}}(t))}})};function Wn(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u062a\u0648\u0633\u0639\u0647\u200c\u062f\u0647\u0646\u062f\u0647: \u0645\u0647\u0631\u0627\u0646 \u0645\u06cc\u0631\u062e\u0627\u0646"),r.a.createElement("p",null,"\u062a\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647: \u06f0\u06f9\u06f1\u06f2\u06f8\u06f4\u06f7\u06f0\u06f4\u06f2\u06f3"),r.a.createElement("p",null,"\u0627\u06cc\u0645\u06cc\u0644: mehranmirkhan@gmail.com"))}function Xn(){var e=[{menuItem:"\u062a\u063a\u06cc\u06cc\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",render:function(){return r.a.createElement(Hn.a.Pane,null,r.a.createElement(Bn,null))}},{menuItem:"\u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u062a\u0648\u0633\u0639\u0647\u200c\u062f\u0647\u0646\u062f\u0647",render:function(){return r.a.createElement(Hn.a.Pane,null,r.a.createElement(Wn,null))}}];return r.a.createElement(Kt,null,r.a.createElement(Hn.a,{menu:{fluid:!0,vertical:!0,tabular:!0},panes:e}))}var Kn=function(){return r.a.createElement(Kt,null,r.a.createElement(bt.a,{raised:!0,textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h1",null,"\u0635\u0641\u062d\u0647\u200c\u06cc \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u06cc\u0627\u0641\u062a \u0646\u0634\u062f")))},Zn=n(221),$n=function(e){return{isAuthenticated:L(e)}},ea=Object(o.b)($n)((function(e){var t=e.isAuthenticated,n=Object(dt.a)(e,["isAuthenticated"]);return t?r.a.createElement(pt.b,n):r.a.createElement(pt.a,{to:"/"})})),ta=Object(o.b)($n)((function(e){var t=e.isAuthenticated,n=Object(dt.a)(e,["isAuthenticated"]);return t?r.a.createElement(pt.a,{to:"/report"}):r.a.createElement(pt.b,n)}));var na=Object(o.b)((function(e){return{isAuthenticated:L(e),me:T(e)}}),(function(e){return{fetchMe:function(){return e(R())},logout:function(){return e(D())}}}))((function(e){var t=e.fetchMe,n=e.logout,a=e.isAuthenticated,l=e.me;if(a){if(!l||0===Object.keys(l).length)return t(),r.a.createElement("div",null);"admin"!==l.role&&(n(),alert("\u0641\u0642\u0637 \u0645\u062f\u06cc\u0631 \u0633\u0627\u0645\u0627\u0646\u0647 \u0627\u062c\u0627\u0632\u0647 \u062f\u0633\u062a\u0631\u0633\u06cc \u062f\u0627\u0631\u062f"))}var i={};return Zn.homepage&&(i.basename=Zn.homepage),r.a.createElement(me.a,i,r.a.createElement(pt.d,null,r.a.createElement(ta,{exact:!0,path:"/",component:Jt}),r.a.createElement(ea,{exact:!0,path:"/report",component:ln}),r.a.createElement(ea,{path:"/news",component:yn}),r.a.createElement(ea,{path:"/users",component:_n}),r.a.createElement(ea,{path:"/questions",component:Sn}),r.a.createElement(ea,{path:"/answers",component:xn}),r.a.createElement(ea,{path:"/hints",component:Tn}),r.a.createElement(ea,{path:"/user_hints",component:An}),r.a.createElement(ea,{path:"/achievements",component:Pn}),r.a.createElement(ea,{path:"/user_achievements",component:Gn}),r.a.createElement(ea,{exact:!0,path:"/settings",component:Xn}),r.a.createElement(pt.b,{path:"*",component:Kn})))}));n(622),n(623),n(624);i.a.render(r.a.createElement((function(){return r.a.createElement(o.a,{store:et},r.a.createElement(c.a,{loading:null,persistor:tt},r.a.createElement(u.a,{template:ut,timeout:5e3,position:u.b.TOP_CENTER,transition:u.c.SCALE},r.a.createElement(mt,null,r.a.createElement(na,null)))))}),null),document.getElementById("root"))}},[[371,1,2]]]);
//# sourceMappingURL=main.0213d3e7.chunk.js.map