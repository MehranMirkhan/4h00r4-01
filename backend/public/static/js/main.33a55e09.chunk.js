(this.webpackJsonppuzzles=this.webpackJsonppuzzles||[]).push([[0],{355:function(e,t,n){e.exports=n(597)},59:function(e){e.exports=JSON.parse('{"persist_key":"puzzles_ugQzdLOtUd","server_url":"http://192.168.1.123/4h00r4-01/backend/public/","request_timeout":5000}')},594:function(e,t,n){},596:function(e,t,n){},597:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(38),o=n.n(i),c=n(11),l=n(296),u=n(61),s=n(23),m=n(297),p=n(215),d=n(298),f=n.n(d),h=n(299),b=n.n(h),y=n(292),E=n(25);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O="flow/TRANSITION",_="flow/SET_SELECTED",j="flow/SELECTION_RECEIVED",w="flow/RESET",k={IDLE:"IDLE",SELECTING:"SELECTING",SELECTED:"SELECTED"},S={selectionState:k.IDLE,selectionCode:void 0,selectionCarry:void 0,selectedEntity:void 0},D=function(e,t){return{type:O,payload:{code:e,carry:t}}},N=function(){return{type:j}};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q="auth/LOGIN",F="auth/ME",x="auth/RESET",I={token:{},me:{}},T=function(){return function(e){e({type:x})}},R=function(e){return e.auth.me},L=function(e){return!!e.auth.token&&!!e.auth.token.access_token};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M="report/SET",Y="report/RESET",U={};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G="users/SET_ENTITY_LIST",H="users/SET_ENTITY",V="users/RESET",B={entityList:[],entity:void 0},W=function(e){return function(t,n,a){console.log("Fetching all users");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/users",{params:r}).then((function(e){return t({type:G,payload:e?e.data:void 0})}))}},X=function(e){return function(t,n,a){if(console.log("Fetching user:",e),e)return a.get("/admin/v1/users/".concat(e)).then((function(e){return t({type:H,payload:e?e.data:void 0})}))}},K=n(104),Z=n.n(K),$={id:{label:"\u0634\u0646\u0627\u0633\u0647"},locale:{label:"\u0632\u0628\u0627\u0646",options:[{key:"null",text:"",value:null},{key:"en",text:"\u0627\u0646\u06af\u0644\u06cc\u0633\u06cc",value:"en"},{key:"fa",text:"\u0641\u0627\u0631\u0633\u06cc",value:"fa"}]},title:{label:"\u0639\u0646\u0648\u0627\u0646"},time_type:{label:"\u0646\u0648\u0639 \u0632\u0645\u0627\u0646",options:[{key:"null",text:"",value:null},{key:"daily",text:"\u0631\u0648\u0632\u0627\u0646\u0647",value:"daily"},{key:"weekly",text:"\u0647\u0641\u062a\u06af\u06cc",value:"weekly"}]},answer_type:{label:"\u0646\u0648\u0639 \u067e\u0627\u0633\u062e",options:[{key:"null",text:"",value:null},{key:"text",text:"\u0645\u062a\u0646\u06cc",value:"text"},{key:"choice",text:"\u06af\u0632\u06cc\u0646\u0647\u200c\u0627\u06cc",value:"choice"},{key:"letter",text:"\u062d\u0631\u0648\u0641\u06cc",value:"letter"}]},start_time:{label:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639"},end_time:{label:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646"},score:{label:"\u0627\u0645\u062a\u06cc\u0627\u0632"},tries:{label:"\u062a\u0639\u062f\u0627\u062f \u062a\u0644\u0627\u0634"},images:{label:"\u062a\u0635\u0627\u0648\u06cc\u0631"},choices:{label:"\u06af\u0632\u06cc\u0646\u0647\u200c\u0647\u0627"},letters:{label:"\u062d\u0631\u0648\u0641"},solutions:{label:"\u062c\u0648\u0627\u0628\u200c\u0647\u0627"}},ee=$,te=function(e){return e.time_type=$.time_type.options.find((function(t){return t.value===e.time_type})),e.time_type&&(e.time_type=e.time_type.text),e.answer_type=$.answer_type.options.find((function(t){return t.value===e.answer_type})),e.answer_type&&(e.answer_type=e.answer_type.text),e.start_time&&(e.start_time=Z()(e.start_time,"YYYY-MM-DD HH:mm:ss").format("jYYYY/jMM/jDD")),e.end_time&&(e.end_time=Z()(e.end_time,"YYYY-MM-DD HH:mm:ss").format("jYYYY/jMM/jDD")),e};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re="questions/SET_ENTITY_LIST",ie="questions/SET_ENTITY",oe="questions/RESET",ce={entityList:[],entity:void 0},le=function(e){return function(t,n,a){console.log("Fetching all questions");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/questions",{params:r}).then((function(e){return t({type:re,payload:e?e.data:void 0})}))}},ue=function(e){return function(t,n,a){if(console.log("Fetching question:",e),e)return a.get("/admin/v1/questions/".concat(e)).then((function(e){return t({type:ie,payload:e?e.data:void 0})}))}},se=n(20),me={id:{label:"\u0634\u0646\u0627\u0633\u0647"},question_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0633\u0624\u0627\u0644"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"},text:{label:"\u0645\u062a\u0646"},correct:{label:"\u062f\u0631\u0633\u062a\u06cc"}},pe=function(e){return e.question_id=r.a.createElement(se.b,{to:"/questions/".concat(e.question_id)},e.question_id),e.user_id=r.a.createElement(se.b,{to:"/users/".concat(e.user_id)},e.user_id),e};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he="answers/SET_ENTITY_LIST",be="answers/SET_ENTITY",ye="answers/RESET",Ee={entityList:[],entity:void 0},ge=function(e){return function(t,n,a){console.log("Fetching all answers");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/answers",{params:r}).then((function(e){return t({type:he,payload:e?e.data:void 0})}))}},ve=function(e){return function(t,n,a){if(console.log("Fetching answer:",e),e)return a.get("/admin/v1/answers/".concat(e)).then((function(e){return t({type:be,payload:e?e.data:void 0})}))}},Oe={id:{label:"\u0634\u0646\u0627\u0633\u0647"},question_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0633\u0624\u0627\u0644"},type:{label:"\u0646\u0648\u0639",options:[{key:"null",text:"",value:null},{key:"image",text:"\u062a\u0635\u0648\u06cc\u0631",value:"image"},{key:"choice",text:"\u06af\u0632\u06cc\u0646\u0647",value:"choice"},{key:"letter",text:"\u062d\u0631\u0648\u0641",value:"letter"},{key:"try",text:"\u062a\u0644\u0627\u0634",value:"try"}]},value:{label:"\u0645\u0642\u062f\u0627\u0631"},price:{label:"\u0642\u06cc\u0645\u062a"}},_e=function(e){return e.question_id=r.a.createElement(se.b,{to:"/questions/".concat(e.question_id)},e.question_id),e};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke="hints/SET_ENTITY_LIST",Se="hints/SET_ENTITY",De="hints/RESET",Ne={entityList:[],entity:void 0},Ce=function(e){return function(t,n,a){console.log("Fetching all hints");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/hints",{params:r}).then((function(e){return t({type:ke,payload:e?e.data:void 0})}))}},Pe=function(e){return function(t,n,a){if(console.log("Fetching hint:",e),e)return a.get("/admin/v1/hints/".concat(e)).then((function(e){return t({type:Se,payload:e?e.data:void 0})}))}},qe={id:{label:"\u0634\u0646\u0627\u0633\u0647"},hint_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"}},Fe=function(e){return e.hint_id=r.a.createElement(se.b,{to:"/hints/".concat(e.hint_id)},e.hint_id),e.user_id=r.a.createElement(se.b,{to:"/users/".concat(e.user_id)},e.user_id),e};function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te="user_hints/SET_ENTITY_LIST",Re="user_hints/SET_ENTITY",Le="user_hints/RESET",ze={entityList:[],entity:void 0},Ae=function(e){return function(t,n,a){console.log("Fetching all user_hints");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/user_hints",{params:r}).then((function(e){return t({type:Te,payload:e?e.data:void 0})}))}},Me=function(e){return function(t,n,a){if(console.log("Fetching user_hint:",e),e)return a.get("/admin/v1/user_hints/".concat(e)).then((function(e){return t({type:Re,payload:e?e.data:void 0})}))}};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe="achievements/SET_ENTITY_LIST",Je="achievements/SET_ENTITY",Ge="achievements/RESET",He={entityList:[],entity:void 0},Ve=function(e){return function(t,n,a){console.log("Fetching all achievements");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/achievements",{params:r}).then((function(e){return t({type:Qe,payload:e?e.data:void 0})}))}},Be=function(e){return function(t,n,a){if(console.log("Fetching achievement:",e),e)return a.get("/admin/v1/achievements/".concat(e)).then((function(e){return t({type:Je,payload:e?e.data:void 0})}))}},We={id:{label:"\u0634\u0646\u0627\u0633\u0647"},achievement_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0645\u062f\u0627\u0644"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"}},Xe=function(e){return e.achievement_id=r.a.createElement(se.b,{to:"/achievements/".concat(e.achievement_id)},e.achievement_id),e.user_id=r.a.createElement(se.b,{to:"/users/".concat(e.user_id)},e.user_id),e};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e="user_achievements/SET_ENTITY_LIST",et="user_achievements/SET_ENTITY",tt="user_achievements/RESET",nt={entityList:[],entity:void 0},at=function(e){return function(t,n,a){console.log("Fetching all user_achievements");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/user_achievements",{params:r}).then((function(e){return t({type:$e,payload:e?e.data:void 0})}))}},rt=function(e){return function(t,n,a){if(console.log("Fetching user_achievement:",e),e)return a.get("/admin/v1/user_achievements/".concat(e)).then((function(e){return t({type:et,payload:e?e.data:void 0})}))}},it=Object(s.c)({form:y.a,flow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return v({},e,{selectionState:k.SELECTING,selectionCode:t.payload.code,selectionCarry:t.payload.carry,selectedEntity:void 0});case _:return v({},e,{selectionState:k.SELECTED,selectedEntity:t.payload.entity});case j:return v({},e,{selectionState:k.IDLE});case w:return v({},S);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return P({},e,{token:t.payload});case F:return P({},e,{me:t.payload});case x:return P({},I);default:return e}},report:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return A({},U,{},t.payload);case Y:return A({},U);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return J({},e,{entityList:t.payload});case H:return J({},e,{entity:t.payload});case V:return J({},B);default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return t.payload?(t.payload.data=t.payload.data.map(te),ae({},e,{entityList:t.payload})):e;case ie:return ae({},e,{entity:t.payload});case oe:return ae({},ce);default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return t.payload?(t.payload.data=t.payload.data.map(pe),fe({},e,{entityList:t.payload})):e;case be:return fe({},e,{entity:t.payload});case ye:return fe({},Ee);default:return e}},hints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return t.payload?(t.payload.data=t.payload.data.map(_e),we({},e,{entityList:t.payload})):e;case Se:return we({},e,{entity:t.payload});case De:return we({},Ne);default:return e}},user_hints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return t.payload?(t.payload.data=t.payload.data.map(Fe),Ie({},e,{entityList:t.payload})):e;case Re:return Ie({},e,{entity:t.payload});case Le:return Ie({},ze);default:return e}},achievements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Ue({},e,{entityList:t.payload});case Je:return Ue({},e,{entity:t.payload});case Ge:return Ue({},He);default:return e}},user_achievements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return t.payload?(t.payload.data=t.payload.data.map(Xe),Ze({},e,{entityList:t.payload})):e;case et:return Ze({},e,{entity:t.payload});case tt:return Ze({},nt);default:return e}}}),ot=n(59),ct={key:ot.persist_key,storage:f.a,whitelist:["auth"]},lt=Object(p.a)(ct,it),ut=b.a.create({baseURL:ot.server_url+"api",timeout:ot.request_timeout,headers:{Accept:"application/json","Content-Type":"application/json"}}),st=Object(s.d)(lt,Object(s.a)(m.a.withExtraArgument(ut))),mt=Object(p.b)(st);ut.interceptors.request.use((function(e){if(!e.headers.Authorization){var t=st.getState();L(t)&&(e.headers.Authorization="Bearer ".concat(function(e){return!!e.auth.token&&e.auth.token.access_token}(t)))}return e}));var pt=n(54),dt=n(55),ft=n(57),ht=n(56),bt=n(58),yt=n(619),Et=function(e){var t=e.style,n=e.options,a=e.message,i=e.close,o=Object(E.a)({},n.type,!0);return r.a.createElement("div",{style:t},r.a.createElement(yt.a,Object.assign({onDismiss:i,content:r.a.createElement("p",{style:{paddingLeft:16}},a)},o)))},gt=function(e){function t(){var e,n;Object(pt.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ft.a)(this,(e=Object(ht.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},n}return Object(bt.a)(t,e),Object(dt.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.requestInterceptor=ut.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.responseInterceptor=ut.interceptors.response.use((function(e){return e}),(function(t){console.log(t),t.response&&t.response.data&&t.response.data.message&&e.props.alert.error(JSON.stringify(t.response.data.message)),e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){ut.interceptors.request.eject(this.requestInterceptor),ut.interceptors.response.eject(this.responseInterceptor)}},{key:"componentDidCatch",value:function(e,t){console.log(e),e&&e.message&&this.props.alert.error(JSON.stringify(e.message))}},{key:"render",value:function(){return this.props.children}}]),t}(r.a.Component),vt=Object(u.d)()(gt),Ot=n(39),_t=n(80),jt=n(615),wt=n(601),kt=n(622),St=n(291),Dt=n(290),Nt=n(88);function Ct(e){var t=e.children;return r.a.createElement("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},t)}var Pt=function(e){var t=e.history,n=Object(c.c)();return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(wt.a,{icon:!0,labelPosition:"right",onClick:function(){n(N()),t.goBack()}},"\u0628\u0627\u0632\u06af\u0634\u062a",r.a.createElement(Nt.a,{name:"chevron left"})))},qt=n(43),Ft=n(612),xt=n(124),It=n(322),Tt=n(614),Rt=n(311),Lt=n.n(Rt),zt=n(294),At=n(28),Mt={REQUIRED:function(e){return e&&""!==e?void 0:"\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0631\u0627 \u067e\u0631 \u06a9\u0646\u06cc\u062f"},MAX_LEN:function(e){return function(t){return t&&t.length>e?"\u0628\u0627\u06cc\u062f \u06a9\u0645\u062a\u0631 \u0627\u0632 ".concat(e," \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"):void 0}},MIN_LEN:function(e){return function(t){return t&&t.length<e?"\u0628\u0627\u06cc\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 ".concat(e," \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"):void 0}},MAX_VAL:function(e){return function(t){return t&&t>e?"\u0628\u0627\u06cc\u062f \u06a9\u0645\u062a\u0631 \u0627\u0632 ".concat(e," \u0628\u0627\u0634\u062f"):void 0}},MIN_VAL:function(e){return function(t){return t&&t<e?"\u0628\u0627\u06cc\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 ".concat(e," \u0628\u0627\u0634\u062f"):void 0}}},Yt=function(e){var t=e.input,n=e.meta,a=e.children,i=Object(Ot.a)(e,["input","meta","children"]);return r.a.createElement(jt.a.Input,Object.assign({},i,t,{children:a,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))},Ut=function(e){for(var t=e.input,n=(e.meta,e.children,Object(Ot.a)(e,["input","meta","children"])),a=JSON.parse(t.value?t.value:"[]"),i=a?a.length:0,o=[],c=function(e){o.push(r.a.createElement(Ft.a,{key:e,name:n.name+" "+e,value:a[e],onChange:function(n,r){var i=r.value;a[e]=i,t.onChange(JSON.stringify(a))},action:{icon:"minus",color:"red",onClick:function(n){n.preventDefault(),a.splice(e,1),t.onChange(JSON.stringify(a))}},fluid:!0,style:{marginTop:e>0?16:0}}))},l=0;l<i;l++)c(l);return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},n.label),r.a.createElement(Nt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",style:{cursor:"pointer",float:"left"},onClick:function(){a.push(""),t.onChange(JSON.stringify(a))}})),r.a.createElement(kt.a,{raised:!0,attached:"bottom"},o))},Qt=function(e){var t=e.input,n=e.meta,a=e.children,i=Object(Ot.a)(e,["input","meta","children"]);return r.a.createElement(jt.a.Dropdown,Object.assign({},i,{selection:!0},t,{children:a,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))},Jt=[{key:"null",text:"",value:void 0},{key:"true",text:"True",value:1},{key:"false",text:"False",value:0}];function Gt(e){var t=e.input,n=e.meta,a=e.children,i=e.entityName,o=e.formName,l=Object(Ot.a)(e,["input","meta","children","entityName","formName"]),u=Object(c.d)((function(e){return e.flow})),s=Object(c.c)(),m=Object(c.d)((function(e){return Object(zt.a)(o)(e)})),p=o+"/"+i,d=r.a.createElement(wt.a,{icon:"search",as:se.b,to:"/".concat(i),onClick:function(){return s(D(p,m))}});return u.selectionState===k.SELECTED&&u.selectionCode===p&&(s(Object(At.a)(o,u.selectionCarry)),t.onChange(u.selectedEntity.id),s(N())),r.a.createElement(jt.a.Input,Object.assign({},l,t,{children:a,action:d,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))}function Ht(e){var t=e.input,n=(e.meta,e.children),a=Object(Ot.a)(e,["input","meta","children"]),i=t.value?Z()(t.value,"YYYY-MM-DD HH:mm:ss").toDate():void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.a,null,a.label),r.a.createElement(Lt.a,Object.assign({selected:i,onChange:function(e){t.onChange(Z()(e).format("YYYY-MM-DD HH:mm:ss"))},showTimeSelect:!0,dateFormat:"yyyy MMMM d, HH:mm",timeFormat:"HH:mm",timeIntervals:60,children:n},a)),r.a.createElement("div",{style:{height:8}}))}function Vt(e){var t=e.input,n=e.meta,i=e.children,o=Object(Ot.a)(e,["input","meta","children"]),c=Object(a.useRef)(null),l=Object(a.useState)(""),u=Object(qt.a)(l,2),s=u[0],m=u[1],p=Object(a.useState)(null),d=Object(qt.a)(p,2),f=d[0],h=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Input,Object.assign({},o,{value:s,children:i,error:!!(n&&n.touched&&n.invalid)&&n.error,action:r.a.createElement(wt.a,{icon:"file",onClick:function(e){e.preventDefault(),c&&c.current&&c.current.click()}})})),r.a.createElement("input",{ref:c,type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.preventDefault();var n=e.target.files;if(n&&n[0]){m(n[0].name);var a=new FileReader;a.onload=function(e){return h(e.target.result)},a.readAsDataURL(n[0]),t.onChange(n[0])}else h(null)}}),r.a.createElement("div",{style:{height:8}}),r.a.createElement(It.a,{hidden:!f,src:f,size:"large",style:{marginBottom:16}}))}var Bt=function(e){for(var t=e.input,n=(e.meta,e.children,e.path),i=Object(Ot.a)(e,["input","meta","children","path"]),o=Object(a.useState)(null),c=Object(qt.a)(o,2),l=c[0],u=c[1],s=Object(a.useState)(!1),m=Object(qt.a)(s,2),p=m[0],d=m[1],f=Object(a.useState)(!1),h=Object(qt.a)(f,2),b=h[0],y=h[1],E=function(){return d(!1)},g=JSON.parse(t.value?t.value:"[]"),v=g?g.length:0,O=[],_=function(e){O.push(r.a.createElement("div",{key:e},r.a.createElement(It.a,{src:"".concat(ot.server_url,"storage/").concat(g[e]),style:{maxWidth:"90%",display:"inline-block"}}),r.a.createElement(Nt.a,{name:"times",color:"red",circular:!0,inverted:!0,style:{marginRight:8},onClick:function(n){var a;n.preventDefault(),a=g[e],ut.delete("files",{data:{path:a}}),g.splice(e,1),t.onChange(JSON.stringify(g))}})))},j=0;j<v;j++)_(j);return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},i.label),r.a.createElement(Tt.a,{trigger:r.a.createElement(Nt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",onClick:function(){return d(!0)},style:{cursor:"pointer",float:"left"}}),open:p,onClose:E},r.a.createElement(Tt.a.Header,null,"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"),r.a.createElement(Tt.a.Content,null,r.a.createElement(Vt,{input:{onChange:u}}),r.a.createElement(wt.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:!l,loading:b,onClick:function(){y(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),ut.post("files",n)}(l,n).then((function(e){e&&(g.push(e.data.relative_path),t.onChange(JSON.stringify(g)),E())})).finally((function(){y(!1)}))}},r.a.createElement(Nt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647")))),r.a.createElement(kt.a,{raised:!0,attached:"bottom"},O))};var Wt=Mt.MIN_LEN(6),Xt=Object(St.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.invalid,i=e.submitting;return r.a.createElement(jt.a,{onSubmit:t},r.a.createElement(Dt.a,{component:Yt,name:"username",label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",autoFocus:!0,required:!0,validate:Mt.REQUIRED}),r.a.createElement(Dt.a,{component:Yt,name:"password",label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",type:"password",required:!0,validate:[Mt.REQUIRED,Wt]}),r.a.createElement(wt.a,{type:"submit",primary:!0,disabled:n||a,loading:i},"\u0648\u0631\u0648\u062f"))})),Kt=function(e){function t(){var e,n;Object(pt.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ft.a)(this,(e=Object(ht.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){return n.props.login(e.username,e.password)},n}return Object(bt.a)(t,e),Object(dt.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"#abc"}},r.a.createElement(Ct,null,r.a.createElement(kt.a,{raised:!0,style:{width:400}},r.a.createElement(Xt,{onSubmit:this.onSubmit}))))}}]),t}(r.a.Component),Zt=Object(c.b)(null,(function(e){return{login:function(t,n){return e(function(e,t){return function(n,a,r){return r.post("/login",{username:e,password:t}).then((function(e){return n({type:q,payload:e?e.data:void 0})}))}}(t,n))}}}))(Kt),$t=n(623),en=n(620),tn=n(621),nn=n(617),an=n(613),rn=Object(c.b)(null,(function(e){return{logout:function(){return e(T())}}}))(Object(_t.g)((function(e){var t=e.location,n=e.logout,a=t.pathname.split("/")[1];return r.a.createElement(tn.a,{attached:!0,inverted:!0},r.a.createElement(tn.a.Item,{name:"\u06af\u0632\u0627\u0631\u0634",active:"report"===a,color:"blue",icon:"dashboard",link:!0,as:se.b,to:"/report"}),r.a.createElement(tn.a.Item,{as:nn.a,item:!0,text:"\u062c\u062f\u0627\u0648\u0644",active:["users","questions"].indexOf(a)>=0,color:"blue"},r.a.createElement(nn.a.Menu,null,r.a.createElement(nn.a.Item,{text:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",icon:"users",as:se.b,to:"/users"}),r.a.createElement(nn.a.Item,{text:"\u0633\u0624\u0627\u0644\u0627\u062a",icon:"question",as:se.b,to:"/questions"}),r.a.createElement(nn.a.Item,{text:"\u062a\u0644\u0627\u0634\u200c\u0647\u0627",icon:"file",as:se.b,to:"/answers"}),r.a.createElement(nn.a.Item,{text:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627",icon:"gift",as:se.b,to:"/hints"}),r.a.createElement(nn.a.Item,{text:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627",icon:"trophy",as:se.b,to:"/achievements"}))),r.a.createElement(tn.a.Item,{name:"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a",active:"setting"===a,color:"blue",icon:"setting"}),r.a.createElement(tn.a.Menu,{position:"right"},r.a.createElement(tn.a.Item,{active:!0,color:"red",name:"\u062e\u0631\u0648\u062c",icon:"sign-out",onClick:n})))})));var on=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rn,null),r.a.createElement(an.a,{style:{margin:"16px 0"}},t))},cn=function(e){function t(){return Object(pt.a)(this,t),Object(ft.a)(this,Object(ht.a)(t).apply(this,arguments))}return Object(bt.a)(t,e),Object(dt.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchReport()}},{key:"render",value:function(){var e=this.props.report;return console.log("Report:",e),r.a.createElement(on,null,r.a.createElement(kt.a,{attached:"top",raised:!0,textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h1",null,"\u06af\u0632\u0627\u0631\u0634")),r.a.createElement(kt.a,{attached:"bottom",textAlign:"center",padded:!0},e.server&&r.a.createElement($t.a,{columns:3},r.a.createElement($t.a.Column,null,r.a.createElement(kt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0633\u0631\u0648\u0631")),r.a.createElement(kt.a,{attached:"bottom",textAlign:"center",raised:!0},"\u0632\u0645\u0627\u0646: ",new Date(e.server.timestamp).toUTCString())),r.a.createElement($t.a.Column,null,r.a.createElement(kt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646")),r.a.createElement(kt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(en.a,null,r.a.createElement(en.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"),r.a.createElement(en.a.Value,null,e.users.count)))),r.a.createElement($t.a.Column,null,r.a.createElement(kt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0633\u0624\u0627\u0644\u0627\u062a")),r.a.createElement(kt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(en.a,null,r.a.createElement(en.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u0633\u0624\u0627\u0644\u0627\u062a"),r.a.createElement(en.a.Value,null,e.questions.count)))))))}}]),t}(r.a.Component),ln=Object(c.b)((function(e){return{report:e.report}}),(function(e){return{fetchReport:function(){return e((function(e,t,n){return console.log("Fetching report"),n.get("/admin/v1/report").then((function(t){return e({type:M,payload:t?t.data:void 0})}))}))}}}))(cn),un={id:{label:"\u0634\u0646\u0627\u0633\u0647"},name:{label:"\u0646\u0627\u0645"},phone:{label:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647"},email:{label:"\u0627\u06cc\u0645\u06cc\u0644"},role:{label:"\u0646\u0642\u0634",options:[{key:"null",text:"",value:null},{key:"admin",text:"admin",value:"admin"},{key:"user",text:"user",value:"user"}]},is_active:{label:"\u0641\u0639\u0627\u0644"},password:{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},passwordConfirm:{label:"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}},sn=n(323),mn=n(169),pn=n.n(mn),dn=n(618),fn=function(e){return function(t,n){var a=function(e,t){return function(n){var a={key:n.key+t},i=e[n.key];if(n.render)if("string"===typeof n.render)switch(n.render){case"boolean":var o=r.a.createElement(Nt.a,{name:"check",size:"large",color:"green"}),c=r.a.createElement(Nt.a,{name:"times",size:"large",color:"red"});a.children=i?o:c;break;case"image":a.children=r.a.createElement(It.a,{src:i,size:"large"});break;default:a.children=null}else a.children=n.render(e);else a.children=i;return a}}(t,n);return{key:n,cells:e.map((function(e){return a(e)}))}}},hn=function(e,t,n,a){return e.map((function(e){return{key:e.key,sorted:t===e.key?"asc"===n?"ascending":"descending":null,onClick:function(){e.sortable&&a(e.key,t===e.key&&"asc"===n?"desc":"asc")},children:e.header}}))},bn=function(e,t){for(var n=t.current_page,a=t.last_page,i=t.per_page,o=t.setPage,c=t.setPageSize,l=[],u=function(e){e>=1&&e<=a&&l.push(r.a.createElement(tn.a.Item,{key:"page_".concat(e),as:"a",active:e===n,onClick:function(){return o(e)}},e))},s=n-2;s<n+3;s++)u(s);return r.a.createElement(dn.a.Row,null,r.a.createElement(dn.a.HeaderCell,{colSpan:e},r.a.createElement(tn.a,{pagination:!0,style:{direction:"ltr"}},r.a.createElement(tn.a.Item,{as:"a",icon:!0,onClick:function(){return t.setPage(1)}},r.a.createElement(Nt.a,{name:"angle double left"})),l,r.a.createElement(tn.a.Item,{as:"a",icon:!0,onClick:function(){return t.setPage(a)}},r.a.createElement(Nt.a,{name:"angle double right"}))),r.a.createElement("span",{style:{marginRight:16}},r.a.createElement("span",{style:{marginLeft:4}},"\u062f\u0631 \u0647\u0631 \u0635\u0641\u062d\u0647:"),r.a.createElement(nn.a,{selection:!0,value:i,style:{minWidth:48},options:[10,20,50,100].map((function(e){return{key:e,text:e,value:e}})),onChange:function(e,t){var n=t.value;return c(n)}})),r.a.createElement(en.a,{size:"mini",floated:"right"},r.a.createElement(en.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u0635\u0641\u062d\u0627\u062a"),r.a.createElement(en.a.Value,null,a))))};function yn(e){var t=e.schema,n=e.data,a=e.pagination,i=e.sortCol,o=e.sortDir,c=e.onSort;return n||(n=[]),r.a.createElement(dn.a,{celled:!0,sortable:!0,headerRow:hn(t,i,o,c),renderBodyRow:fn(t),footerRow:bn(t.length,a),tableData:n})}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn=Object(u.d)()((function(e){var t=e.history,n=e.entityName,a=e.tableSchema,i=e.data,o=e.pagination,l=e.deleteAction,u=e.alert,s=e.sortCol,m=e.sortDir,p=e.onSort,d=Object(c.d)((function(e){return e.flow})),f=Object(c.c)(),h=function(e){return r.a.createElement(Nt.a,{name:"check",color:"green",style:{cursor:"pointer"},onClick:function(){f(function(e){return{type:_,payload:{entity:e}}}(e)),t.goBack()}})},b=[{key:"operations",header:"\u0639\u0645\u0644\u06cc\u0627\u062a",render:function(e){return r.a.createElement(r.a.Fragment,null,d.selectionState===k.SELECTING&&h(e),function(e){return r.a.createElement(se.b,{to:"/".concat(n,"/").concat(e?e.id:"?")},r.a.createElement(Nt.a,{name:"edit",color:"black",style:{cursor:"pointer"}}))}(e),function(e){return r.a.createElement(Tt.a,{trigger:r.a.createElement(Nt.a,{name:"times",size:"large",color:"red",style:{cursor:"pointer"}}),header:"\u0647\u0634\u062f\u0627\u0631!",content:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f\u061f",actions:[{key:"yes",content:"\u0628\u0644\u0647",negative:!0,onClick:function(){return l(e?e.id:void 0).then((function(){return u.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f")}))}},{key:"no",content:"\u062e\u06cc\u0631"}]})}(e))}}].concat(Object(sn.a)(a));return r.a.createElement(yn,{schema:b,data:i,pagination:o,sortCol:s,sortDir:m,onSort:p})})),On=function(e){function t(){var e,n;Object(pt.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ft.a)(this,(e=Object(ht.a)(t)).call.apply(e,[this].concat(r)))).state={page:1,page_size:20,sortCol:null,sortDir:null},n.SF=void 0,n.onSubmit=function(e){var t=pn.a.parse(n.props.location.search);return n.props.fetchMethod({filter:gn({},t,{},e),page:n.state.page,page_size:n.state.page_size,sortCol:n.state.sortCol,sortDir:n.state.sortDir})},n.search=function(){return n.props.search("".concat(n.props.entityName,"/search"))},n.setPage=function(e){n.setState({page:e},n.search)},n.setPageSize=function(e){n.setState({page_size:e},n.search)},n}return Object(bt.a)(t,e),Object(dt.a)(t,[{key:"componentDidMount",value:function(){this.onSubmit({})}},{key:"initForms",value:function(){var e,t;this.SF=(e=this.props.entityName,t=this.props.SearchFields,Object(St.a)({form:"".concat(e,"/search")})((function(e){var n=e.handleSubmit,a=e.submitting,i=e.pristine,o=e.reset;return r.a.createElement(jt.a,{onSubmit:n},t(e),r.a.createElement(wt.a,{type:"submit",icon:!0,labelPosition:"left",primary:!0,loading:a},r.a.createElement(Nt.a,{name:"search"}),"\u062c\u0633\u062a\u062c\u0648"),r.a.createElement(wt.a,{type:"button",icon:!0,labelPosition:"left",secondary:!0,disabled:i||a,onClick:o},r.a.createElement(Nt.a,{name:"refresh"}),"\u067e\u0627\u06a9\u200c\u0633\u0627\u0632\u06cc \u0641\u0631\u0645"))})))}},{key:"render",value:function(){var e=this;if(void 0===this.props.entityList)return null;this.props.SearchFields&&!this.SF&&this.initForms();var t=this.props.entityList,n=t.data,a=t.current_page,i=t.last_page,o=this.props.location.search,c=this.props,l=c.title,u=c.entityName,s=c.tableSchema,m=c.deleteAction;return r.a.createElement(on,null,r.a.createElement(kt.a,{raised:!0,textAlign:"center",color:"blue",inverted:!0,attached:"top"},r.a.createElement("h1",null,l)),r.a.createElement(kt.a,{attached:!0},r.a.createElement(Pt,{history:this.props.history}),this.props.SearchFields&&r.a.createElement(this.SF,{onSubmit:this.onSubmit})),r.a.createElement(kt.a,{attached:"bottom"},r.a.createElement(wt.a,{color:"green",icon:!0,labelPosition:"left",as:se.b,to:"/".concat(u,"/new").concat(o)},r.a.createElement(Nt.a,{name:"plus"}),"\u062c\u062f\u06cc\u062f"),r.a.createElement(vn,{entityName:u,tableSchema:s,data:n,sortCol:this.state.sortCol,sortDir:this.state.sortDir,onSort:function(t,n){return e.setState({sortCol:t,sortDir:n},e.search)},history:this.props.history,pagination:{current_page:a,last_page:i,per_page:this.state.page_size,setPage:this.setPage,setPageSize:this.setPageSize},deleteAction:m})))}}]),t}(r.a.Component),_n=Object(c.b)(null,(function(e){return{search:function(t){return e(Object(At.b)(t))}}}))(On);var jn=Object(c.b)((function(e){return{entityList:e.users.entityList}}),(function(e){return{fetchMethod:function(t){return e(W(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user:",e),e)return a.delete("/admin/v1/users/".concat(e)).then((function(e){return t(W())}))}}(t))}}}))((function(e){return r.a.createElement(_n,Object.assign({},e,{title:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"users",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Yt,name:"id",label:un.id.label}),r.a.createElement(Dt.a,{component:Yt,name:"name",label:un.name.label}),r.a.createElement(Dt.a,{component:Yt,name:"phone",label:un.phone.label}),r.a.createElement(Dt.a,{component:Yt,name:"email",label:un.email.label})),r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Qt,name:"role",label:un.role.label,options:un.role.options}),r.a.createElement(Dt.a,{component:Qt,name:"is_active",label:un.is_active.label,options:Jt})))},tableSchema:[{key:"id",sortable:!0,header:un.id.label},{key:"name",sortable:!0,header:un.name.label},{key:"phone",sortable:!0,header:un.phone.label},{key:"email",sortable:!0,header:un.email.label},{key:"role",header:un.role.label},{key:"is_active",header:un.is_active.label,render:"boolean"}]}))})),wn=function(e,t,n){return Object(St.a)({form:"".concat(e,"/").concat(n?"new":"edit"),enableReinitialize:!0})((function(e){var n=e.handleSubmit,a=e.submitting,i=e.pristine,o=e.reset;return r.a.createElement(jt.a,{onSubmit:n},t(e),r.a.createElement(wt.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:i,loading:a},r.a.createElement(Nt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"),r.a.createElement(wt.a,{type:"button",secondary:!0,icon:!0,labelPosition:"left",disabled:i||a,onClick:o},r.a.createElement(Nt.a,{name:"refresh"}),"\u0644\u063a\u0648 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"))}))},kn=function(e){function t(){var e,n;Object(pt.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ft.a)(this,(e=Object(ht.a)(t)).call.apply(e,[this].concat(r)))).NF=void 0,n.EF=void 0,n.fetchEntity=function(e){return n.props.fetchEntity(e)},n.updateEntity=function(e){return function(t){return n.props.updateEntity(e,t).then((function(){return n.props.alert.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0635\u0644\u0627\u062d \u0634\u062f")}))}},n.newEntity=function(e){return n.props.newEntity(e).then((function(){n.props.alert.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f"),n.props.history.goBack()}))},n}return Object(bt.a)(t,e),Object(dt.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.fetchEntity(e):this.props.resetEntity(pn.a.parse(this.props.location.search))}},{key:"initForms",value:function(){this.NF=wn(this.props.entityName,this.props.NewFields,!0),this.EF=wn(this.props.entityName,this.props.EditFields,!1)}},{key:"render",value:function(){this.props.NewFields&&!this.NF&&this.initForms(),this.props.EditFields&&!this.EF&&this.initForms();var e=this.props.match.params.id,t=this.props,n=t.title,a=t.entity;return r.a.createElement(on,null,r.a.createElement("div",{style:{maxWidth:600,margin:"0 auto"}},r.a.createElement(kt.a,{raised:!0,attached:"top",textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h2",null,n)),r.a.createElement(kt.a,{raised:!0,padded:!0,attached:"bottom"},r.a.createElement(Pt,{history:this.props.history}),e?this.props.EditFields&&r.a.createElement(this.EF,{onSubmit:this.updateEntity(e),initialValues:a}):this.props.NewFields&&r.a.createElement(this.NF,{onSubmit:this.newEntity,initialValues:a}))))}}]),t}(r.a.Component),Sn=Object(u.d)()(kn);var Dn=Object(c.b)((function(e){return{entity:e.users.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:H,payload:e}}(t))},fetchEntity:function(t){return e(X(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user:",e),e&&t)return r.put("/admin/v1/users/".concat(e),t).then((function(t){return n(X(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user"),e)return a.post("/register",e)}}(t))}}}))((function(e){return r.a.createElement(Sn,Object.assign({},e,{title:"\u06a9\u0627\u0631\u0628\u0631",entityName:"users",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"name",label:un.name.label,required:!0,validate:Mt.REQUIRED}),r.a.createElement(Dt.a,{component:Yt,name:"phone",label:un.phone.label}),r.a.createElement(Dt.a,{component:Yt,name:"email",label:un.email.label}),r.a.createElement(Dt.a,{component:Yt,name:"password",label:un.password.label,type:"password",required:!0,validate:Mt.REQUIRED}),r.a.createElement(Dt.a,{component:Yt,name:"passwordConfirm",label:un.passwordConfirm.label,type:"password",required:!0,validate:Mt.REQUIRED}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"name",label:un.name.label,required:!0,validate:Mt.REQUIRED}),r.a.createElement(Dt.a,{component:Yt,name:"phone",label:un.phone.label}),r.a.createElement(Dt.a,{component:Yt,name:"email",label:un.email.label}),r.a.createElement(Dt.a,{component:Yt,name:"role",label:un.email.label,required:!0,validate:Mt.REQUIRED}),r.a.createElement(Dt.a,{component:Qt,name:"is_active",label:un.is_active.label,options:Jt}),r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement(wt.a,{as:se.b,to:"/user_hints?user_id=".concat(e.initialValues?e.initialValues.id:"null")},"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627"),r.a.createElement(wt.a,{as:se.b,to:"/user_achievements?user_id=".concat(e.initialValues?e.initialValues.id:"null")},"\u0645\u062f\u0627\u0644\u200c\u0647\u0627")))}}))}));function Nn(e){var t=e.match.url;return r.a.createElement(_t.d,null,r.a.createElement(_t.b,{exact:!0,path:"".concat(t),component:jn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/new"),component:Dn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/:id"),component:Dn}))}var Cn=Object(c.b)((function(e){return{entityList:e.questions.entityList}}),(function(e){return{fetchMethod:function(t){return e(le(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting question:",e),e)return a.delete("/admin/v1/questions/".concat(e)).then((function(e){return t(le())}))}}(t))}}}))((function(e){return r.a.createElement(_n,Object.assign({},e,{title:"\u0633\u0624\u0627\u0644\u0627\u062a",entityName:"questions",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Yt,name:"id",label:ee.id.label}),r.a.createElement(Dt.a,{component:Yt,name:"title",label:ee.title.label})),r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Qt,options:ee.locale.options,name:"locale",label:ee.locale.label}),r.a.createElement(Dt.a,{component:Qt,options:ee.time_type.options,name:"time_type",label:ee.time_type.label}),r.a.createElement(Dt.a,{component:Qt,options:ee.answer_type.options,name:"answer_type",label:ee.answer_type.label})))},tableSchema:[{key:"id",header:ee.id.label},{key:"locale",header:ee.locale.label},{key:"title",header:ee.title.label},{key:"time_type",header:ee.time_type.label},{key:"answer_type",header:ee.answer_type.label},{key:"start_time",header:ee.start_time.label},{key:"end_time",header:ee.end_time.label},{key:"score",header:ee.score.label},{key:"tries",header:ee.tries.label}]}))})),Pn=function(e){for(var t=e.input,n=(e.meta,e.children,e.path,Object(Ot.a)(e,["input","meta","children","path"])),i=Object(a.useState)(!1),o=Object(qt.a)(i,2),c=o[0],l=o[1],u=function(){return l(!1)},s=t.value?JSON.parse(t.value):[],m=s?s.length:0,p=[],d=0;d<m;d++)p.push(r.a.createElement(qn,{key:d,entity:s[d],index:d,values:s,input:t}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},n.label),r.a.createElement(Tt.a,{trigger:r.a.createElement(Nt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",onClick:function(){return l(!0)},style:{cursor:"pointer",float:"left"}}),open:c,onClose:u},r.a.createElement(Tt.a.Content,null,r.a.createElement((function(){var e=Object(a.useState)({type:"text",value:null}),n=Object(qt.a)(e,2),i=n[0],o=n[1],c=Object(a.useState)(!1),l=Object(qt.a)(c,2),m=l[0],p=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Dropdown,{selection:!0,options:[{key:"text",text:"\u0645\u062a\u0646\u06cc",value:"text"},{key:"image",text:"\u062a\u0635\u0648\u06cc\u0631\u06cc",value:"image"}],value:i.type,onChange:function(e,t){var n=t.value;return o({type:n,value:null})}}),r.a.createElement("div",{style:{height:8}}),"image"===i.type?r.a.createElement(Vt,{input:{onChange:function(e){return o({type:"image",value:e})}}}):null,r.a.createElement(wt.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:"image"===i.type&&!i.value,onClick:function(){"text"===i.type?(s.push({type:"text",value:""}),t.onChange(JSON.stringify(s)),u()):(p(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),ut.post("files",n)}(i.value,"q_img").then((function(e){e&&(s.push({type:"image",value:e.data.relative_path}),t.onChange(JSON.stringify(s)),u())})).finally((function(){p(!1)})))},loading:m},r.a.createElement(Nt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"))}),null)))),r.a.createElement(kt.a,{raised:!0,attached:"bottom"},p))},qn=function(e){var t=e.entity,n=e.index,a=e.values,i=e.input;return r.a.createElement("div",{style:{margin:"4px 0"}},"image"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(It.a,{src:"".concat(ot.server_url,"storage/").concat(t.value),style:{maxWidth:"90%",display:"inline-block"}}),r.a.createElement(Nt.a,{name:"times",color:"red",circular:!0,inverted:!0,style:{marginRight:8},onClick:function(e){var t;e.preventDefault(),t=a[n],ut.delete("files",{data:{path:t}}),a.splice(n,1),i.onChange(JSON.stringify(a))}})):r.a.createElement(Ft.a,{fluid:!0,value:t.value,onChange:function(e,t){var r=t.value;a[n].value=r,i.onChange(JSON.stringify(a))},action:{icon:"minus",color:"red",onClick:function(e){e.preventDefault(),a.splice(n,1),i.onChange(JSON.stringify(a))}},style:{marginTop:n>0?16:0}}))};var Fn=Object(c.b)((function(e){return{entity:e.questions.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:ie,payload:e}}(t))},fetchEntity:function(t){return e(ue(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating question:",e),e&&t)return r.put("/admin/v1/questions/".concat(e),t).then((function(t){return n(ue(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating question"),e)return a.post("/admin/v1/questions",e)}}(t))}}}))((function(e){return r.a.createElement(Sn,Object.assign({},e,{title:"\u0633\u0624\u0627\u0644",entityName:"questions",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Qt,options:ee.locale.options,name:"locale",label:ee.locale.label}),r.a.createElement(Dt.a,{component:Yt,name:"title",label:ee.title.label}),r.a.createElement(Dt.a,{component:Qt,options:ee.time_type.options,name:"time_type",label:ee.time_type.label}),r.a.createElement(Dt.a,{component:Qt,options:ee.answer_type.options,name:"answer_type",label:ee.answer_type.label}),r.a.createElement(Dt.a,{component:Ht,name:"start_time",label:ee.start_time.label}),r.a.createElement(Dt.a,{component:Ht,name:"end_time",label:ee.end_time.label}),r.a.createElement(Dt.a,{component:Yt,name:"score",label:ee.score.label}),r.a.createElement(Dt.a,{component:Yt,name:"tries",label:ee.tries.label}),r.a.createElement(Dt.a,{component:Bt,name:"images",label:ee.images.label,path:"q_img"}),r.a.createElement(Dt.a,{component:Pn,name:"choices",label:ee.choices.label}),r.a.createElement(Dt.a,{component:Ut,name:"letters",label:ee.letters.label}),r.a.createElement(Dt.a,{component:Ut,name:"solutions",label:ee.solutions.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"id",label:ee.id.label,disabled:!0}),r.a.createElement(Dt.a,{component:Qt,options:ee.locale.options,name:"locale",label:ee.locale.label}),r.a.createElement(Dt.a,{component:Yt,name:"title",label:ee.title.label}),r.a.createElement(Dt.a,{component:Qt,options:ee.time_type.options,name:"time_type",label:ee.time_type.label}),r.a.createElement(Dt.a,{component:Qt,options:ee.answer_type.options,name:"answer_type",label:ee.answer_type.label}),r.a.createElement(Dt.a,{component:Ht,name:"start_time",label:ee.start_time.label}),r.a.createElement(Dt.a,{component:Ht,name:"end_time",label:ee.end_time.label}),r.a.createElement(Dt.a,{component:Yt,name:"score",label:ee.score.label}),r.a.createElement(Dt.a,{component:Yt,name:"tries",label:ee.tries.label}),r.a.createElement(Dt.a,{component:Bt,name:"images",label:ee.images.label,path:"q_img"}),r.a.createElement(Dt.a,{component:Pn,name:"choices",label:ee.choices.label}),r.a.createElement(Dt.a,{component:Ut,name:"letters",label:ee.letters.label}),r.a.createElement(Dt.a,{component:Ut,name:"solutions",label:ee.solutions.label}))}}))}));function xn(e){var t=e.match.url;return r.a.createElement(_t.d,null,r.a.createElement(_t.b,{exact:!0,path:"".concat(t),component:Cn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/new"),component:Fn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/:id"),component:Fn}))}var In=Object(c.b)((function(e){return{entityList:e.answers.entityList}}),(function(e){return{fetchMethod:function(t){return e(ge(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting answer:",e),e)return a.delete("/admin/v1/answers/".concat(e)).then((function(e){return t(ge())}))}}(t))}}}))((function(e){return r.a.createElement(_n,Object.assign({},e,{title:"\u062a\u0644\u0627\u0634\u200c\u0647\u0627",entityName:"answers",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Gt,entityName:"questions",formName:"answers/search",name:"question_id",label:me.question_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"answers/search",name:"user_id",label:me.user_id.label})),r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Yt,name:"text",label:me.text.label}),r.a.createElement(Dt.a,{component:Qt,name:"correct",label:me.correct.label,options:Jt})))},tableSchema:[{key:"question_id",header:me.question_id.label},{key:"user_id",header:me.user_id.label},{key:"text",header:me.text.label},{key:"correct",header:me.correct.label,render:"boolean"}]}))}));var Tn=Object(c.b)((function(e){return{entity:e.answers.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:be,payload:e}}(t))},fetchEntity:function(t){return e(ve(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating answer:",e),e&&t)return r.put("/admin/v1/answers/".concat(e),t).then((function(t){return n(ve(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating answer"),e)return a.post("/admin/v1/answers",e)}}(t))}}}))((function(e){return r.a.createElement(Sn,Object.assign({},e,{title:"\u062a\u0644\u0627\u0634",entityName:"answers",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Gt,entityName:"questions",formName:"answers/new",required:!0,validate:Mt.REQUIRED,name:"question_id",label:me.question_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"answers/new",required:!0,validate:Mt.REQUIRED,name:"user_id",label:me.user_id.label}),r.a.createElement(Dt.a,{component:Yt,name:"text",label:me.text.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"id",label:me.id.label,disabled:!0}),r.a.createElement(Dt.a,{component:Gt,entityName:"questions",formName:"answers/edit",required:!0,validate:Mt.REQUIRED,name:"question_id",label:me.question_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"answers/edit",required:!0,validate:Mt.REQUIRED,name:"user_id",label:me.user_id.label}),r.a.createElement(Dt.a,{component:Yt,name:"text",label:me.text.label,required:!0,validate:Mt.REQUIRED}),r.a.createElement(Dt.a,{component:Qt,name:"correct",label:me.correct.label,options:Jt}))}}))}));function Rn(e){var t=e.match.url;return r.a.createElement(_t.d,null,r.a.createElement(_t.b,{exact:!0,path:"".concat(t),component:In}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/new"),component:Tn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/:id"),component:Tn}))}var Ln=Object(c.b)((function(e){return{entityList:e.hints.entityList}}),(function(e){return{fetchMethod:function(t){return e(Ce(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting hint:",e),e)return a.delete("/admin/v1/hints/".concat(e)).then((function(e){return t(Ce())}))}}(t))}}}))((function(e){return r.a.createElement(_n,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627",entityName:"hints",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Gt,entityName:"questions",formName:"hints/search",name:"question_id",label:Oe.question_id.label})))},tableSchema:[{key:"question_id",header:Oe.question_id.label},{key:"type",header:Oe.type.label},{key:"value",header:Oe.value.label},{key:"price",header:Oe.price.label}]}))})),zn=n(293),An=function(e){var t=e.input,n=(e.meta,e.children,e.path,e.formProps);Object(Ot.a)(e,["input","meta","children","path","formProps"]);switch(Object(c.d)((function(e){return Object(zn.a)(n.form)(e,"type")}))){case"image":return r.a.createElement(Mn,{value:t.value,onChange:t.onChange});case"choice":return r.a.createElement(Ut,{name:"choices",label:"\u0627\u0646\u062f\u06cc\u0633 \u06af\u0632\u06cc\u0646\u0647\u200c\u0647\u0627\u06cc \u062d\u0630\u0641\u06cc (\u0627\u0632 \u0635\u0641\u0631)",input:t});case"letter":return r.a.createElement(Ut,{name:"letters",label:"\u0627\u0646\u062f\u06cc\u0633 \u062d\u0631\u0648\u0641 \u062d\u0630\u0641\u06cc (\u0627\u0632 \u0635\u0641\u0631)",input:t});default:return null}};function Mn(e){var t=e.value,n=e.onChange,i=Object(a.useState)(!1),o=Object(qt.a)(i,2),c=o[0],l=o[1],u=Object(a.useState)(null),s=Object(qt.a)(u,2),m=s[0],p=s[1],d=Object(a.useState)(!1),f=Object(qt.a)(d,2),h=f[0],b=f[1],y=function(){return l(!1)};return r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement(Tt.a,{trigger:r.a.createElement(wt.a,{onClick:function(e){e.preventDefault(),l(!0)}},"\u0627\u0646\u062a\u062e\u0627\u0628 \u062a\u0635\u0648\u06cc\u0631"),open:c,onClose:y},r.a.createElement(Tt.a.Content,null,r.a.createElement(Vt,{input:{onChange:p}}),r.a.createElement(wt.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:!m,onClick:function(){b(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),ut.post("files",n)}(m,"q_img").then((function(e){e&&(n(e.data.relative_path),y())})).finally((function(){b(!1)}))},loading:h},r.a.createElement(Nt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"))),t?r.a.createElement(It.a,{src:"".concat(ot.server_url,"storage/").concat(t)}):null)}var Yn=Object(c.b)((function(e){return{entity:e.hints.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:Se,payload:e}}(t))},fetchEntity:function(t){return e(Pe(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating hint:",e),e&&t)return r.put("/admin/v1/hints/".concat(e),t).then((function(t){return n(Pe(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating hint"),e)return a.post("/admin/v1/hints",e)}}(t))}}}))((function(e){return r.a.createElement(Sn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc",entityName:"hints",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Gt,entityName:"questions",formName:"hints/new",required:!0,validate:Mt.REQUIRED,name:"question_id",label:Oe.question_id.label}),r.a.createElement(Dt.a,{component:Yt,name:"price",label:Oe.price.label}),r.a.createElement(Dt.a,{component:Qt,options:Oe.type.options,id:"type",name:"type",label:Oe.type.label}),r.a.createElement(Dt.a,{component:An,name:"value",label:Oe.value.label,formProps:e}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"id",label:Oe.id.label,disabled:!0}),r.a.createElement(Dt.a,{component:Gt,entityName:"questions",formName:"hints/edit",required:!0,validate:Mt.REQUIRED,name:"question_id",label:Oe.question_id.label}),r.a.createElement(Dt.a,{component:Yt,name:"price",label:Oe.price.label}),r.a.createElement(Dt.a,{component:Qt,options:Oe.type.options,name:"type",label:Oe.type.label}),r.a.createElement(Dt.a,{component:An,name:"value",label:Oe.value.label,formProps:e}))}}))}));function Un(e){var t=e.match.url;return r.a.createElement(_t.d,null,r.a.createElement(_t.b,{exact:!0,path:"".concat(t),component:Ln}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/new"),component:Yn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/:id"),component:Yn}))}var Qn=Object(c.b)((function(e){return{entityList:e.user_hints.entityList}}),(function(e){return{fetchMethod:function(t){return e(Ae(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user_hint:",e),e)return a.delete("/admin/v1/user_hints/".concat(e)).then((function(e){return t(Ae())}))}}(t))}}}))((function(e){return r.a.createElement(_n,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"user_hints",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Gt,entityName:"hints",formName:"user_hints/search",name:"hint_id",label:qe.hint_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"user_hints/search",name:"user_id",label:qe.user_id.label})))},tableSchema:[{key:"hint_id",header:qe.hint_id.label},{key:"user_id",header:qe.user_id.label}]}))}));var Jn=Object(c.b)((function(e){return{entity:e.user_hints.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:Re,payload:e}}(t))},fetchEntity:function(t){return e(Me(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user_hint:",e),e&&t)return r.put("/admin/v1/user_hints/".concat(e),t).then((function(t){return n(Me(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user_hint"),e)return a.post("/admin/v1/user_hints",e)}}(t))}}}))((function(e){return r.a.createElement(Sn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc \u06a9\u0627\u0631\u0628\u0631",entityName:"user_hints",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Gt,entityName:"hints",formName:"user_hints/new",required:!0,validate:Mt.REQUIRED,name:"hint_id",label:qe.hint_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"user_hints/new",required:!0,validate:Mt.REQUIRED,name:"user_id",label:qe.user_id.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"id",label:qe.id.label,disabled:!0}),r.a.createElement(Dt.a,{component:Gt,entityName:"hints",formName:"user_hints/edit",required:!0,validate:Mt.REQUIRED,name:"hint_id",label:qe.hint_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"user_hints/edit",required:!0,validate:Mt.REQUIRED,name:"user_id",label:qe.user_id.label}))}}))}));function Gn(e){var t=e.match.url;return r.a.createElement(_t.d,null,r.a.createElement(_t.b,{exact:!0,path:"".concat(t),component:Qn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/new"),component:Jn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/:id"),component:Jn}))}var Hn={id:{label:"\u0634\u0646\u0627\u0633\u0647"},code:{label:"\u06a9\u062f"}};var Vn=Object(c.b)((function(e){return{entityList:e.achievements.entityList}}),(function(e){return{fetchMethod:function(t){return e(Ve(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting achievement:",e),e)return a.delete("/admin/v1/achievements/".concat(e)).then((function(e){return t(Ve())}))}}(t))}}}))((function(e){return r.a.createElement(_n,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627",entityName:"achievements",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Yt,name:"code",label:Hn.code.label})))},tableSchema:[{key:"code",header:Hn.code.label}]}))}));var Bn=Object(c.b)((function(e){return{entity:e.achievements.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:Je,payload:e}}(t))},fetchEntity:function(t){return e(Be(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating achievement:",e),e&&t)return r.put("/admin/v1/achievements/".concat(e),t).then((function(t){return n(Be(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating achievement"),e)return a.post("/admin/v1/achievements",e)}}(t))}}}))((function(e){return r.a.createElement(Sn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644",entityName:"achievements",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"code",label:Hn.code.label,required:!0,validate:Mt.REQUIRED}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"id",label:Hn.id.label,disabled:!0}),r.a.createElement(Dt.a,{component:Yt,name:"code",label:Hn.code.label,required:!0,validate:Mt.REQUIRED}))}}))}));function Wn(e){var t=e.match.url;return r.a.createElement(_t.d,null,r.a.createElement(_t.b,{exact:!0,path:"".concat(t),component:Vn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/new"),component:Bn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/:id"),component:Bn}))}var Xn=Object(c.b)((function(e){return{entityList:e.user_achievements.entityList}}),(function(e){return{fetchMethod:function(t){return e(at(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user_achievement:",e),e)return a.delete("/admin/v1/user_achievements/".concat(e)).then((function(e){return t(at())}))}}(t))}}}))((function(e){return r.a.createElement(_n,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"user_achievements",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a.Group,{widths:"equal"},r.a.createElement(Dt.a,{component:Gt,entityName:"achievements",formName:"user_achievements/search",name:"achievement_id",label:We.achievement_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"user_achievements/search",name:"user_id",label:We.user_id.label})))},tableSchema:[{key:"achievement_id",header:We.achievement_id.label},{key:"user_id",header:We.user_id.label}]}))}));var Kn=Object(c.b)((function(e){return{entity:e.user_achievements.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:et,payload:e}}(t))},fetchEntity:function(t){return e(rt(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user_achievement:",e),e&&t)return r.put("/admin/v1/user_achievements/".concat(e),t).then((function(t){return n(rt(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user_achievement"),e)return a.post("/admin/v1/user_achievements",e)}}(t))}}}))((function(e){return r.a.createElement(Sn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644 \u06a9\u0627\u0631\u0628\u0631",entityName:"user_achievements",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Gt,entityName:"achievements",formName:"user_achievements/new",required:!0,validate:Mt.REQUIRED,name:"achievement_id",label:We.achievement_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"user_achievements/new",required:!0,validate:Mt.REQUIRED,name:"user_id",label:We.user_id.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{component:Yt,name:"id",label:We.id.label,disabled:!0}),r.a.createElement(Dt.a,{component:Gt,entityName:"achievements",formName:"user_achievements/edit",required:!0,validate:Mt.REQUIRED,name:"achievement_id",label:We.achievement_id.label}),r.a.createElement(Dt.a,{component:Gt,entityName:"users",formName:"user_achievements/edit",required:!0,validate:Mt.REQUIRED,name:"user_id",label:We.user_id.label}))}}))}));function Zn(e){var t=e.match.url;return r.a.createElement(_t.d,null,r.a.createElement(_t.b,{exact:!0,path:"".concat(t),component:Xn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/new"),component:Kn}),r.a.createElement(_t.b,{exact:!0,path:"".concat(t,"/:id"),component:Kn}))}var $n=function(){return r.a.createElement(on,null,r.a.createElement(kt.a,{raised:!0,textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h1",null,"\u0635\u0641\u062d\u0647\u200c\u06cc \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u06cc\u0627\u0641\u062a \u0646\u0634\u062f")))},ea=function(e){return{isAuthenticated:L(e)}},ta=Object(c.b)(ea)((function(e){var t=e.isAuthenticated,n=Object(Ot.a)(e,["isAuthenticated"]);return t?r.a.createElement(_t.b,n):r.a.createElement(_t.a,{to:"/"})})),na=Object(c.b)(ea)((function(e){var t=e.isAuthenticated,n=Object(Ot.a)(e,["isAuthenticated"]);return t?r.a.createElement(_t.a,{to:"/report"}):r.a.createElement(_t.b,n)}));var aa=Object(c.b)((function(e){return{isAuthenticated:L(e),me:R(e)}}),(function(e){return{fetchMe:function(){return e((function(e,t,n){return n.get("/v1/me").then((function(t){return e({type:F,payload:t?t.data:void 0})}))}))},logout:function(){return e(T())}}}))((function(e){var t=e.fetchMe,n=e.logout,a=e.isAuthenticated,i=e.me;if(a){if(!i||0===Object.keys(i).length)return t(),r.a.createElement("div",null);"admin"!==i.role&&(n(),alert("\u0641\u0642\u0637 \u0645\u062f\u06cc\u0631 \u0633\u0627\u0645\u0627\u0646\u0647 \u0627\u062c\u0627\u0632\u0647 \u062f\u0633\u062a\u0631\u0633\u06cc \u062f\u0627\u0631\u062f"))}return r.a.createElement(se.a,null,r.a.createElement(_t.d,null,r.a.createElement(na,{exact:!0,path:"/",component:Zt}),r.a.createElement(ta,{exact:!0,path:"/report",component:ln}),r.a.createElement(ta,{path:"/users",component:Nn}),r.a.createElement(ta,{path:"/questions",component:xn}),r.a.createElement(ta,{path:"/answers",component:Rn}),r.a.createElement(ta,{path:"/hints",component:Un}),r.a.createElement(ta,{path:"/user_hints",component:Gn}),r.a.createElement(ta,{path:"/achievements",component:Wn}),r.a.createElement(ta,{path:"/user_achievements",component:Zn}),r.a.createElement(_t.b,{path:"*",component:$n})))}));n(594),n(595),n(596);o.a.render(r.a.createElement((function(){return r.a.createElement(c.a,{store:st},r.a.createElement(l.a,{loading:null,persistor:mt},r.a.createElement(u.a,{template:Et,timeout:5e3,position:u.b.TOP_CENTER,transition:u.c.SCALE},r.a.createElement(vt,null,r.a.createElement(aa,null)))))}),null),document.getElementById("root"))}},[[355,1,2]]]);
//# sourceMappingURL=main.33a55e09.chunk.js.map