(this.webpackJsonppuzzles=this.webpackJsonppuzzles||[]).push([[0],{216:function(e){e.exports=JSON.parse('{"name":"puzzles","version":"0.1.0","private":true,"homepage":"/puzzles","author":{"name":"Mehran Mirkhan","email":"mehranmirkhan@gmail.com","url":"https://mehranmirkhan.github.io"},"dependencies":{"axios":"^0.19.0","moment-jalaali":"^0.9.1","query-string":"^6.9.0","react":"^16.11.0","react-advance-jalaali-datepicker":"^1.2.2","react-alert":"^6.0.0","react-datepicker":"^2.10.1","react-dom":"^16.11.0","react-redux":"^7.1.1","react-router-dom":"^5.1.2","react-scripts":"3.2.0","redux":"^4.0.4","redux-form":"^8.2.6","redux-persist":"^6.0.0","redux-thunk":"^2.3.0","semantic-ui-react":"^0.88.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},361:function(e,t,n){e.exports=n(603)},59:function(e){e.exports=JSON.parse('{"persist_key":"puzzles_ugQzdLOtUd","server_url":"http://192.168.1.123/4h00r4-01/backend/public/","request_timeout":5000}')},600:function(e,t,n){},602:function(e,t,n){},603:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(38),o=n.n(i),l=n(11),c=n(299),u=n(61),s=n(25),m=n(300),p=n(217),d=n(301),f=n.n(d),h=n(302),b=n.n(h),y=n(295),E=n(27);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O="flow/TRANSITION",_="flow/SET_SELECTED",j="flow/SELECTION_RECEIVED",w="flow/RESET",k={IDLE:"IDLE",SELECTING:"SELECTING",SELECTED:"SELECTED"},S={selectionState:k.IDLE,selectionCode:void 0,selectionCarry:void 0,selectedEntity:void 0},D=function(e,t){return{type:O,payload:{code:e,carry:t}}},N=function(){return{type:j}};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x="auth/LOGIN",q="auth/ME",F="auth/RESET",I={token:{},me:{}},R=function(e,t){return function(n,a,r){return r.post("/login",{username:e,password:t}).then((function(e){n({type:x,payload:e?e.data:void 0}),n(L())}))}},T=function(){return function(e){e({type:F})}},L=function(){return function(e,t,n){return n.get("/v1/me").then((function(t){return e({type:q,payload:t?t.data:void 0})}))}},z=function(e){return e.auth.me},A=function(e){return!!e.auth.token&&!!e.auth.token.access_token};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y="report/SET",Q="report/RESET",J={};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V="users/SET_ENTITY_LIST",B="users/SET_ENTITY",W="users/RESET",X={entityList:[],entity:void 0},K=function(e){return function(t,n,a){console.log("Fetching all users");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),e&&e.sortCol&&(r.sort=("asc"===e.sortDir?"":"-")+e.sortCol),a.get("/admin/v1/users",{params:r}).then((function(e){return t({type:V,payload:e?e.data:void 0})}))}},Z=function(e){return function(t,n,a){if(console.log("Fetching user:",e),e)return a.get("/admin/v1/users/".concat(e)).then((function(e){return t({type:B,payload:e?e.data:void 0})}))}},$=n(104),ee=n.n($),te={id:{label:"\u0634\u0646\u0627\u0633\u0647"},locale:{label:"\u0632\u0628\u0627\u0646",options:[{key:"null",text:"",value:null},{key:"en",text:"\u0627\u0646\u06af\u0644\u06cc\u0633\u06cc",value:"en"},{key:"fa",text:"\u0641\u0627\u0631\u0633\u06cc",value:"fa"}]},title:{label:"\u0639\u0646\u0648\u0627\u0646"},time_type:{label:"\u0646\u0648\u0639 \u0632\u0645\u0627\u0646",options:[{key:"null",text:"",value:null},{key:"daily",text:"\u0631\u0648\u0632\u0627\u0646\u0647",value:"daily"},{key:"weekly",text:"\u0647\u0641\u062a\u06af\u06cc",value:"weekly"}]},answer_type:{label:"\u0646\u0648\u0639 \u067e\u0627\u0633\u062e",options:[{key:"null",text:"",value:null},{key:"text",text:"\u0645\u062a\u0646\u06cc",value:"text"},{key:"choice",text:"\u06af\u0632\u06cc\u0646\u0647\u200c\u0627\u06cc",value:"choice"},{key:"letter",text:"\u062d\u0631\u0648\u0641\u06cc",value:"letter"}]},start_time:{label:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639"},end_time:{label:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646"},score:{label:"\u0627\u0645\u062a\u06cc\u0627\u0632"},tries:{label:"\u062a\u0639\u062f\u0627\u062f \u062a\u0644\u0627\u0634"},images:{label:"\u062a\u0635\u0627\u0648\u06cc\u0631"},choices:{label:"\u06af\u0632\u06cc\u0646\u0647\u200c\u0647\u0627"},letters:{label:"\u062d\u0631\u0648\u0641"},letters_num:{label:"\u062a\u0639\u062f\u0627\u062f \u062d\u0631\u0648\u0641"},solutions:{label:"\u062c\u0648\u0627\u0628\u200c\u0647\u0627"}},ne=te,ae=function(e){return e.time_type=te.time_type.options.find((function(t){return t.value===e.time_type})),e.time_type&&(e.time_type=e.time_type.text),e.answer_type=te.answer_type.options.find((function(t){return t.value===e.answer_type})),e.answer_type&&(e.answer_type=e.answer_type.text),e.start_time&&(e.start_time=ee()(e.start_time,"YYYY-MM-DD HH:mm:ss").format("jYYYY/jMM/jDD")),e.end_time&&(e.end_time=ee()(e.end_time,"YYYY-MM-DD HH:mm:ss").format("jYYYY/jMM/jDD")),e};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe="questions/SET_ENTITY_LIST",le="questions/SET_ENTITY",ce="questions/RESET",ue={entityList:[],entity:void 0},se=function(e){return function(t,n,a){console.log("Fetching all questions");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/questions",{params:r}).then((function(e){return t({type:oe,payload:e?e.data:void 0})}))}},me=function(e){return function(t,n,a){if(console.log("Fetching question:",e),e)return a.get("/admin/v1/questions/".concat(e)).then((function(e){return t({type:le,payload:e?e.data:void 0})}))}},pe=n(20),de={id:{label:"\u0634\u0646\u0627\u0633\u0647"},question_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0633\u0624\u0627\u0644"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"},text:{label:"\u0645\u062a\u0646"},correct:{label:"\u062f\u0631\u0633\u062a\u06cc"}},fe=function(e){return e.question_id=r.a.createElement(pe.b,{to:"/questions/".concat(e.question_id)},e.question_id),e.user_id=r.a.createElement(pe.b,{to:"/users/".concat(e.user_id)},e.user_id),e};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye="answers/SET_ENTITY_LIST",Ee="answers/SET_ENTITY",ge="answers/RESET",ve={entityList:[],entity:void 0},Oe=function(e){return function(t,n,a){console.log("Fetching all answers");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/answers",{params:r}).then((function(e){return t({type:ye,payload:e?e.data:void 0})}))}},_e=function(e){return function(t,n,a){if(console.log("Fetching answer:",e),e)return a.get("/admin/v1/answers/".concat(e)).then((function(e){return t({type:Ee,payload:e?e.data:void 0})}))}},je={id:{label:"\u0634\u0646\u0627\u0633\u0647"},question_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0633\u0624\u0627\u0644"},type:{label:"\u0646\u0648\u0639",options:[{key:"null",text:"",value:null},{key:"image",text:"\u062a\u0635\u0648\u06cc\u0631",value:"image"},{key:"choice",text:"\u06af\u0632\u06cc\u0646\u0647",value:"choice"},{key:"letter",text:"\u062d\u0631\u0648\u0641",value:"letter"},{key:"try",text:"\u062a\u0644\u0627\u0634",value:"try"}]},value:{label:"\u0645\u0642\u062f\u0627\u0631"},price:{label:"\u0642\u06cc\u0645\u062a"}},we=function(e){return e.question_id=r.a.createElement(pe.b,{to:"/questions/".concat(e.question_id)},e.question_id),e};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De="hints/SET_ENTITY_LIST",Ne="hints/SET_ENTITY",Ce="hints/RESET",Pe={entityList:[],entity:void 0},xe=function(e){return function(t,n,a){console.log("Fetching all hints");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/hints",{params:r}).then((function(e){return t({type:De,payload:e?e.data:void 0})}))}},qe=function(e){return function(t,n,a){if(console.log("Fetching hint:",e),e)return a.get("/admin/v1/hints/".concat(e)).then((function(e){return t({type:Ne,payload:e?e.data:void 0})}))}},Fe={id:{label:"\u0634\u0646\u0627\u0633\u0647"},hint_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"}},Ie=function(e){return e.hint_id=r.a.createElement(pe.b,{to:"/hints/".concat(e.hint_id)},e.hint_id),e.user_id=r.a.createElement(pe.b,{to:"/users/".concat(e.user_id)},e.user_id),e};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le="user_hints/SET_ENTITY_LIST",ze="user_hints/SET_ENTITY",Ae="user_hints/RESET",Me={entityList:[],entity:void 0},Ue=function(e){return function(t,n,a){console.log("Fetching all user_hints");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/user_hints",{params:r}).then((function(e){return t({type:Le,payload:e?e.data:void 0})}))}},Ye=function(e){return function(t,n,a){if(console.log("Fetching user_hint:",e),e)return a.get("/admin/v1/user_hints/".concat(e)).then((function(e){return t({type:ze,payload:e?e.data:void 0})}))}};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge="achievements/SET_ENTITY_LIST",He="achievements/SET_ENTITY",Ve="achievements/RESET",Be={entityList:[],entity:void 0},We=function(e){return function(t,n,a){console.log("Fetching all achievements");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/achievements",{params:r}).then((function(e){return t({type:Ge,payload:e?e.data:void 0})}))}},Xe=function(e){return function(t,n,a){if(console.log("Fetching achievement:",e),e)return a.get("/admin/v1/achievements/".concat(e)).then((function(e){return t({type:He,payload:e?e.data:void 0})}))}},Ke={id:{label:"\u0634\u0646\u0627\u0633\u0647"},achievement_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u0645\u062f\u0627\u0644"},user_id:{label:"\u0634\u0646\u0627\u0633\u0647 \u06a9\u0627\u0631\u0628\u0631"}},Ze=function(e){return e.achievement_id=r.a.createElement(pe.b,{to:"/achievements/".concat(e.achievement_id)},e.achievement_id),e.user_id=r.a.createElement(pe.b,{to:"/users/".concat(e.user_id)},e.user_id),e};function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt="user_achievements/SET_ENTITY_LIST",nt="user_achievements/SET_ENTITY",at="user_achievements/RESET",rt={entityList:[],entity:void 0},it=function(e){return function(t,n,a){console.log("Fetching all user_achievements");var r={};return e&&e.filter&&0!==Object.entries(e.filter).length&&(r.filter=Object.keys(e.filter).map((function(t){return"".concat(t,":").concat(e.filter[t])})).join(",")),e&&e.page&&(r.page=e.page),e&&e.page_size&&(r.page_size=e.page_size),a.get("/admin/v1/user_achievements",{params:r}).then((function(e){return t({type:tt,payload:e?e.data:void 0})}))}},ot=function(e){return function(t,n,a){if(console.log("Fetching user_achievement:",e),e)return a.get("/admin/v1/user_achievements/".concat(e)).then((function(e){return t({type:nt,payload:e?e.data:void 0})}))}},lt=Object(s.c)({form:y.a,flow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return v({},e,{selectionState:k.SELECTING,selectionCode:t.payload.code,selectionCarry:t.payload.carry,selectedEntity:void 0});case _:return v({},e,{selectionState:k.SELECTED,selectedEntity:t.payload.entity});case j:return v({},e,{selectionState:k.IDLE});case w:return v({},S);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return P({},e,{token:t.payload});case q:return P({},e,{me:t.payload});case F:return P({},I);default:return e}},report:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return U({},J,{},t.payload);case Q:return U({},J);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return H({},e,{entityList:t.payload});case B:return H({},e,{entity:t.payload});case W:return H({},X);default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return t.payload?(t.payload.data=t.payload.data.map(ae),ie({},e,{entityList:t.payload})):e;case le:return ie({},e,{entity:t.payload});case ce:return ie({},ue);default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return t.payload?(t.payload.data=t.payload.data.map(fe),be({},e,{entityList:t.payload})):e;case Ee:return be({},e,{entity:t.payload});case ge:return be({},ve);default:return e}},hints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return t.payload?(t.payload.data=t.payload.data.map(we),Se({},e,{entityList:t.payload})):e;case Ne:return Se({},e,{entity:t.payload});case Ce:return Se({},Pe);default:return e}},user_hints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return t.payload?(t.payload.data=t.payload.data.map(Ie),Te({},e,{entityList:t.payload})):e;case ze:return Te({},e,{entity:t.payload});case Ae:return Te({},Me);default:return e}},achievements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return Je({},e,{entityList:t.payload});case He:return Je({},e,{entity:t.payload});case Ve:return Je({},Be);default:return e}},user_achievements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return t.payload?(t.payload.data=t.payload.data.map(Ze),et({},e,{entityList:t.payload})):e;case nt:return et({},e,{entity:t.payload});case at:return et({},rt);default:return e}}}),ct=n(59),ut={key:ct.persist_key,storage:f.a,whitelist:["auth"]},st=Object(p.a)(ut,lt),mt=b.a.create({baseURL:ct.server_url+"api",timeout:ct.request_timeout,headers:{Accept:"application/json","Content-Type":"application/json"}}),pt=Object(s.d)(st,Object(s.a)(m.a.withExtraArgument(mt))),dt=Object(p.b)(pt);mt.interceptors.request.use((function(e){if(!e.headers.Authorization){var t=pt.getState();A(t)&&(e.headers.Authorization="Bearer ".concat(function(e){return!!e.auth.token&&e.auth.token.access_token}(t)))}return e}));var ft=n(54),ht=n(55),bt=n(57),yt=n(56),Et=n(58),gt=n(625),vt=function(e){var t=e.style,n=e.options,a=e.message,i=e.close,o=Object(E.a)({},n.type,!0);return r.a.createElement("div",{style:t},r.a.createElement(gt.a,Object.assign({onDismiss:i,content:r.a.createElement("p",{style:{paddingLeft:16}},a)},o)))},Ot=function(e){function t(){var e,n;Object(ft.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(bt.a)(this,(e=Object(yt.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},n}return Object(Et.a)(t,e),Object(ht.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.requestInterceptor=mt.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.responseInterceptor=mt.interceptors.response.use((function(e){return e}),(function(t){console.log(t),t.response&&t.response.data&&t.response.data.message&&e.props.alert.error(JSON.stringify(t.response.data.message)),e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){mt.interceptors.request.eject(this.requestInterceptor),mt.interceptors.response.eject(this.responseInterceptor)}},{key:"componentDidCatch",value:function(e,t){console.log(e),e&&e.message&&this.props.alert.error(JSON.stringify(e.message))}},{key:"render",value:function(){return this.props.children}}]),t}(r.a.Component),_t=Object(u.d)()(Ot),jt=n(39),wt=n(80),kt=n(620),St=n(607),Dt=n(218),Nt=n(294),Ct=n(293),Pt=n(88);function xt(e){var t=e.children;return r.a.createElement("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},t)}var qt=function(e){var t=e.history,n=Object(l.c)();return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(St.a,{icon:!0,labelPosition:"right",onClick:function(){n(N()),t.goBack()}},"\u0628\u0627\u0632\u06af\u0634\u062a",r.a.createElement(Pt.a,{name:"chevron left"})))},Ft=n(43),It=n(618),Rt=n(128),Tt=n(326),Lt=n(621),zt=n(314),At=n.n(zt),Mt=n(297),Ut=n(28),Yt={REQUIRED:function(e){return e&&""!==e?void 0:"\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0631\u0627 \u067e\u0631 \u06a9\u0646\u06cc\u062f"},MAX_LEN:function(e){return function(t){return t&&t.length>e?"\u0628\u0627\u06cc\u062f \u06a9\u0645\u062a\u0631 \u0627\u0632 ".concat(e," \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"):void 0}},MIN_LEN:function(e){return function(t){return t&&t.length<e?"\u0628\u0627\u06cc\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 ".concat(e," \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"):void 0}},MAX_VAL:function(e){return function(t){return t&&t>e?"\u0628\u0627\u06cc\u062f \u06a9\u0645\u062a\u0631 \u0627\u0632 ".concat(e," \u0628\u0627\u0634\u062f"):void 0}},MIN_VAL:function(e){return function(t){return t&&t<e?"\u0628\u0627\u06cc\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 ".concat(e," \u0628\u0627\u0634\u062f"):void 0}}},Qt=function(e){var t=e.input,n=e.meta,a=e.children,i=Object(jt.a)(e,["input","meta","children"]);return r.a.createElement(kt.a.Input,Object.assign({},i,t,{children:a,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))},Jt=function(e){for(var t=e.input,n=(e.meta,e.children,Object(jt.a)(e,["input","meta","children"])),a=JSON.parse(t.value?t.value:"[]"),i=a?a.length:0,o=[],l=function(e){o.push(r.a.createElement(It.a,{key:e,name:n.name+" "+e,value:a[e],onChange:function(n,r){var i=r.value;a[e]=i,t.onChange(JSON.stringify(a))},action:{icon:"minus",color:"red",onClick:function(n){n.preventDefault(),a.splice(e,1),t.onChange(JSON.stringify(a))}},fluid:!0,style:{marginTop:e>0?16:0}}))},c=0;c<i;c++)l(c);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},n.label),r.a.createElement(Pt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",style:{cursor:"pointer",float:"left"},onClick:function(){a.push(""),t.onChange(JSON.stringify(a))}})),r.a.createElement(Dt.a,{raised:!0,attached:"bottom"},o))},Gt=function(e){var t=e.input,n=e.meta,a=e.children,i=Object(jt.a)(e,["input","meta","children"]);return r.a.createElement(kt.a.Dropdown,Object.assign({},i,{selection:!0},t,{children:a,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))},Ht=[{key:"null",text:"",value:void 0},{key:"true",text:"True",value:1},{key:"false",text:"False",value:0}];function Vt(e){var t=e.input,n=e.meta,a=e.children,i=e.entityName,o=e.formName,c=Object(jt.a)(e,["input","meta","children","entityName","formName"]),u=Object(l.d)((function(e){return e.flow})),s=Object(l.c)(),m=Object(l.d)((function(e){return Object(Mt.a)(o)(e)})),p=o+"/"+i,d=r.a.createElement(St.a,{icon:"search",as:pe.b,to:"/".concat(i),onClick:function(){return s(D(p,m))}});return u.selectionState===k.SELECTED&&u.selectionCode===p&&(s(Object(Ut.a)(o,u.selectionCarry)),t.onChange(u.selectedEntity.id),s(N())),r.a.createElement(kt.a.Input,Object.assign({},c,t,{children:a,action:d,onChange:function(e,n){var a=n.value;return t.onChange(a)},error:!!(n&&n.touched&&n.invalid)&&n.error}))}function Bt(e){var t=e.input,n=(e.meta,e.children),a=Object(jt.a)(e,["input","meta","children"]),i=t.value?ee()(t.value,"YYYY-MM-DD HH:mm:ss").toDate():void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Rt.a,null,a.label),r.a.createElement(At.a,Object.assign({selected:i,onChange:function(e){t.onChange(ee()(e).format("YYYY-MM-DD HH:mm:ss"))},showTimeSelect:!0,dateFormat:"yyyy MMMM d, HH:mm",timeFormat:"HH:mm",timeIntervals:60,children:n},a)),r.a.createElement("div",{style:{height:8}}))}function Wt(e){var t=e.input,n=e.meta,i=e.children,o=Object(jt.a)(e,["input","meta","children"]),l=Object(a.useRef)(null),c=Object(a.useState)(""),u=Object(Ft.a)(c,2),s=u[0],m=u[1],p=Object(a.useState)(null),d=Object(Ft.a)(p,2),f=d[0],h=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Input,Object.assign({},o,{value:s,children:i,error:!!(n&&n.touched&&n.invalid)&&n.error,action:r.a.createElement(St.a,{icon:"file",onClick:function(e){e.preventDefault(),l&&l.current&&l.current.click()}})})),r.a.createElement("input",{ref:l,type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.preventDefault();var n=e.target.files;if(n&&n[0]){m(n[0].name);var a=new FileReader;a.onload=function(e){return h(e.target.result)},a.readAsDataURL(n[0]),t.onChange(n[0])}else h(null)}}),r.a.createElement("div",{style:{height:8}}),r.a.createElement(Tt.a,{hidden:!f,src:f,size:"large",style:{marginBottom:16}}))}var Xt=function(e){for(var t=e.input,n=(e.meta,e.children,e.path),i=Object(jt.a)(e,["input","meta","children","path"]),o=Object(a.useState)(null),l=Object(Ft.a)(o,2),c=l[0],u=l[1],s=Object(a.useState)(!1),m=Object(Ft.a)(s,2),p=m[0],d=m[1],f=Object(a.useState)(!1),h=Object(Ft.a)(f,2),b=h[0],y=h[1],E=function(){return d(!1)},g=JSON.parse(t.value?t.value:"[]"),v=g?g.length:0,O=[],_=function(e){O.push(r.a.createElement("div",{key:e},r.a.createElement(Tt.a,{src:"".concat(ct.server_url,"storage/").concat(g[e]),style:{maxWidth:"90%",display:"inline-block"}}),r.a.createElement(Pt.a,{name:"times",color:"red",circular:!0,inverted:!0,style:{marginRight:8},onClick:function(n){var a;n.preventDefault(),a=g[e],mt.delete("files",{data:{path:a}}),g.splice(e,1),t.onChange(JSON.stringify(g))}})))},j=0;j<v;j++)_(j);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},i.label),r.a.createElement(Lt.a,{trigger:r.a.createElement(Pt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",onClick:function(){return d(!0)},style:{cursor:"pointer",float:"left"}}),open:p,onClose:E},r.a.createElement(Lt.a.Header,null,"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"),r.a.createElement(Lt.a.Content,null,r.a.createElement(Wt,{input:{onChange:u}}),r.a.createElement(St.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:!c,loading:b,onClick:function(){y(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),mt.post("files",n)}(c,n).then((function(e){e&&(g.push(e.data.relative_path),t.onChange(JSON.stringify(g)),E())})).finally((function(){y(!1)}))}},r.a.createElement(Pt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647")))),r.a.createElement(Dt.a,{raised:!0,attached:"bottom"},O))};var Kt=Yt.MIN_LEN(6),Zt=Object(Nt.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.invalid,i=e.submitting;return r.a.createElement(kt.a,{onSubmit:t},r.a.createElement(Ct.a,{component:Qt,name:"username",label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",autoFocus:!0,required:!0,validate:Yt.REQUIRED}),r.a.createElement(Ct.a,{component:Qt,name:"password",label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",type:"password",required:!0,validate:[Yt.REQUIRED,Kt]}),r.a.createElement(St.a,{type:"submit",primary:!0,disabled:n||a,loading:i},"\u0648\u0631\u0648\u062f"))})),$t=function(e){function t(){var e,n;Object(ft.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(bt.a)(this,(e=Object(yt.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){return n.props.login(e.username,e.password)},n}return Object(Et.a)(t,e),Object(ht.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"#abc"}},r.a.createElement(xt,null,r.a.createElement(Dt.a,{raised:!0,style:{width:400}},r.a.createElement(Zt,{onSubmit:this.onSubmit}))))}}]),t}(r.a.Component),en=Object(l.b)(null,(function(e){return{login:function(t,n){return e(R(t,n))}}}))($t),tn=n(329),nn=n(626),an=n(327),rn=n(624),on=n(619),ln=Object(l.b)(null,(function(e){return{logout:function(){return e(T())}}}))(Object(wt.g)((function(e){var t=e.location,n=e.logout,a=t.pathname.split("/")[1];return r.a.createElement(an.a,{attached:!0,inverted:!0},r.a.createElement(an.a.Item,{name:"\u06af\u0632\u0627\u0631\u0634",active:"report"===a,color:"blue",icon:"dashboard",link:!0,as:pe.b,to:"/report"}),r.a.createElement(an.a.Item,{as:rn.a,item:!0,text:"\u062c\u062f\u0627\u0648\u0644",active:["users","questions"].indexOf(a)>=0,color:"blue"},r.a.createElement(rn.a.Menu,null,r.a.createElement(rn.a.Item,{text:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",icon:"users",as:pe.b,to:"/users"}),r.a.createElement(rn.a.Item,{text:"\u0633\u0624\u0627\u0644\u0627\u062a",icon:"question",as:pe.b,to:"/questions"}),r.a.createElement(rn.a.Item,{text:"\u062a\u0644\u0627\u0634\u200c\u0647\u0627",icon:"file",as:pe.b,to:"/answers"}),r.a.createElement(rn.a.Item,{text:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627",icon:"gift",as:pe.b,to:"/hints"}),r.a.createElement(rn.a.Item,{text:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627",icon:"trophy",as:pe.b,to:"/achievements"}))),r.a.createElement(an.a.Item,{name:"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a",active:"setting"===a,color:"blue",icon:"setting",link:!0,as:pe.b,to:"/settings"}),r.a.createElement(an.a.Menu,{position:"right"},r.a.createElement(an.a.Item,{active:!0,color:"red",name:"\u062e\u0631\u0648\u062c",icon:"sign-out",onClick:n})))})));var cn=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ln,null),r.a.createElement(on.a,{style:{margin:"16px 0"}},t))},un=function(e){function t(){return Object(ft.a)(this,t),Object(bt.a)(this,Object(yt.a)(t).apply(this,arguments))}return Object(Et.a)(t,e),Object(ht.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchReport()}},{key:"render",value:function(){var e=this.props.report;return console.log("Report:",e),r.a.createElement(cn,null,r.a.createElement(Dt.a,{attached:"top",raised:!0,textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h1",null,"\u06af\u0632\u0627\u0631\u0634")),r.a.createElement(Dt.a,{attached:"bottom",textAlign:"center",padded:!0},e.server&&r.a.createElement(tn.a,{columns:3},r.a.createElement(tn.a.Column,null,r.a.createElement(Dt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0633\u0631\u0648\u0631")),r.a.createElement(Dt.a,{attached:"bottom",textAlign:"center",raised:!0},"\u0632\u0645\u0627\u0646: ",new Date(e.server.timestamp).toUTCString())),r.a.createElement(tn.a.Column,null,r.a.createElement(Dt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646")),r.a.createElement(Dt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(nn.a,null,r.a.createElement(nn.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"),r.a.createElement(nn.a.Value,null,e.users.count)))),r.a.createElement(tn.a.Column,null,r.a.createElement(Dt.a,{attached:"top",color:"teal",textAlign:"center",inverted:!0,raised:!0},r.a.createElement("h2",null,"\u0633\u0624\u0627\u0644\u0627\u062a")),r.a.createElement(Dt.a,{attached:"bottom",textAlign:"center",raised:!0},r.a.createElement(nn.a,null,r.a.createElement(nn.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u0633\u0624\u0627\u0644\u0627\u062a"),r.a.createElement(nn.a.Value,null,e.questions.count)))))))}}]),t}(r.a.Component),sn=Object(l.b)((function(e){return{report:e.report}}),(function(e){return{fetchReport:function(){return e((function(e,t,n){return console.log("Fetching report"),n.get("/admin/v1/report").then((function(t){return e({type:Y,payload:t?t.data:void 0})}))}))}}}))(un),mn={id:{label:"\u0634\u0646\u0627\u0633\u0647"},name:{label:"\u0646\u0627\u0645"},phone:{label:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647"},email:{label:"\u0627\u06cc\u0645\u06cc\u0644"},role:{label:"\u0646\u0642\u0634",options:[{key:"null",text:"",value:null},{key:"admin",text:"admin",value:"admin"},{key:"user",text:"user",value:"user"}]},is_active:{label:"\u0641\u0639\u0627\u0644"},password:{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},passwordConfirm:{label:"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}},pn=n(328),dn=n(170),fn=n.n(dn),hn=n(623),bn=function(e){return function(t,n){var a=function(e,t){return function(n){var a={key:n.key+t},i=e[n.key];if(n.render)if("string"===typeof n.render)switch(n.render){case"boolean":var o=r.a.createElement(Pt.a,{name:"check",size:"large",color:"green"}),l=r.a.createElement(Pt.a,{name:"times",size:"large",color:"red"});a.children=i?o:l;break;case"image":a.children=r.a.createElement(Tt.a,{src:i,size:"large"});break;default:a.children=null}else a.children=n.render(e);else a.children=i;return a}}(t,n);return{key:n,cells:e.map((function(e){return a(e)}))}}},yn=function(e,t,n,a){return e.map((function(e){return{key:e.key,sorted:t===e.key?"asc"===n?"ascending":"descending":null,onClick:function(){e.sortable&&a(e.key,t===e.key&&"asc"===n?"desc":"asc")},children:e.header}}))},En=function(e,t){for(var n=t.current_page,a=t.last_page,i=t.per_page,o=t.setPage,l=t.setPageSize,c=[],u=function(e){e>=1&&e<=a&&c.push(r.a.createElement(an.a.Item,{key:"page_".concat(e),as:"a",active:e===n,onClick:function(){return o(e)}},e))},s=n-2;s<n+3;s++)u(s);return r.a.createElement(hn.a.Row,null,r.a.createElement(hn.a.HeaderCell,{colSpan:e},r.a.createElement(an.a,{pagination:!0,style:{direction:"ltr"}},r.a.createElement(an.a.Item,{as:"a",icon:!0,onClick:function(){return t.setPage(1)}},r.a.createElement(Pt.a,{name:"angle double left"})),c,r.a.createElement(an.a.Item,{as:"a",icon:!0,onClick:function(){return t.setPage(a)}},r.a.createElement(Pt.a,{name:"angle double right"}))),r.a.createElement("span",{style:{marginRight:16}},r.a.createElement("span",{style:{marginLeft:4}},"\u062f\u0631 \u0647\u0631 \u0635\u0641\u062d\u0647:"),r.a.createElement(rn.a,{selection:!0,value:i,style:{minWidth:48},options:[10,20,50,100].map((function(e){return{key:e,text:e,value:e}})),onChange:function(e,t){var n=t.value;return l(n)}})),r.a.createElement(nn.a,{size:"mini",floated:"right"},r.a.createElement(nn.a.Label,null,"\u062a\u0639\u062f\u0627\u062f \u0635\u0641\u062d\u0627\u062a"),r.a.createElement(nn.a.Value,null,a))))};function gn(e){var t=e.schema,n=e.data,a=e.pagination,i=e.sortCol,o=e.sortDir,l=e.onSort;return n||(n=[]),r.a.createElement(hn.a,{celled:!0,sortable:!0,headerRow:yn(t,i,o,l),renderBodyRow:bn(t),footerRow:En(t.length,a),tableData:n})}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n=Object(u.d)()((function(e){var t=e.history,n=e.entityName,a=e.tableSchema,i=e.data,o=e.pagination,c=e.deleteAction,u=e.alert,s=e.sortCol,m=e.sortDir,p=e.onSort,d=Object(l.d)((function(e){return e.flow})),f=Object(l.c)(),h=function(e){return r.a.createElement(Pt.a,{name:"check",color:"green",style:{cursor:"pointer"},onClick:function(){f(function(e){return{type:_,payload:{entity:e}}}(e)),t.goBack()}})},b=[{key:"operations",header:"\u0639\u0645\u0644\u06cc\u0627\u062a",render:function(e){return r.a.createElement(r.a.Fragment,null,d.selectionState===k.SELECTING&&h(e),function(e){return r.a.createElement(pe.b,{to:"/".concat(n,"/").concat(e?e.id:"?")},r.a.createElement(Pt.a,{name:"edit",color:"black",style:{cursor:"pointer"}}))}(e),function(e){return r.a.createElement(Lt.a,{trigger:r.a.createElement(Pt.a,{name:"times",size:"large",color:"red",style:{cursor:"pointer"}}),header:"\u0647\u0634\u062f\u0627\u0631!",content:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f\u061f",actions:[{key:"yes",content:"\u0628\u0644\u0647",negative:!0,onClick:function(){return c(e?e.id:void 0).then((function(){return u.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f")}))}},{key:"no",content:"\u062e\u06cc\u0631"}]})}(e))}}].concat(Object(pn.a)(a));return r.a.createElement(gn,{schema:b,data:i,pagination:o,sortCol:s,sortDir:m,onSort:p})})),jn=function(e){function t(){var e,n;Object(ft.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(bt.a)(this,(e=Object(yt.a)(t)).call.apply(e,[this].concat(r)))).state={page:1,page_size:20,sortCol:null,sortDir:null},n.SF=void 0,n.onSubmit=function(e){var t=fn.a.parse(n.props.location.search);return n.props.fetchMethod({filter:On({},t,{},e),page:n.state.page,page_size:n.state.page_size,sortCol:n.state.sortCol,sortDir:n.state.sortDir})},n.search=function(){return n.props.search("".concat(n.props.entityName,"/search"))},n.setPage=function(e){n.setState({page:e},n.search)},n.setPageSize=function(e){n.setState({page_size:e},n.search)},n}return Object(Et.a)(t,e),Object(ht.a)(t,[{key:"componentDidMount",value:function(){this.onSubmit({})}},{key:"initForms",value:function(){var e,t;this.SF=(e=this.props.entityName,t=this.props.SearchFields,Object(Nt.a)({form:"".concat(e,"/search")})((function(e){var n=e.handleSubmit,a=e.submitting,i=e.pristine,o=e.reset;return r.a.createElement(kt.a,{onSubmit:n},t(e),r.a.createElement(St.a,{type:"submit",icon:!0,labelPosition:"left",primary:!0,loading:a},r.a.createElement(Pt.a,{name:"search"}),"\u062c\u0633\u062a\u062c\u0648"),r.a.createElement(St.a,{type:"button",icon:!0,labelPosition:"left",secondary:!0,disabled:i||a,onClick:o},r.a.createElement(Pt.a,{name:"refresh"}),"\u067e\u0627\u06a9\u200c\u0633\u0627\u0632\u06cc \u0641\u0631\u0645"))})))}},{key:"render",value:function(){var e=this;if(void 0===this.props.entityList)return null;this.props.SearchFields&&!this.SF&&this.initForms();var t=this.props.entityList,n=t.data,a=t.current_page,i=t.last_page,o=this.props.location.search,l=this.props,c=l.title,u=l.entityName,s=l.tableSchema,m=l.deleteAction;return r.a.createElement(cn,null,r.a.createElement(Dt.a,{raised:!0,textAlign:"center",color:"blue",inverted:!0,attached:"top"},r.a.createElement("h1",null,c)),r.a.createElement(Dt.a,{attached:!0},r.a.createElement(qt,{history:this.props.history}),this.props.SearchFields&&r.a.createElement(this.SF,{onSubmit:this.onSubmit})),r.a.createElement(Dt.a,{attached:"bottom"},r.a.createElement(St.a,{color:"green",icon:!0,labelPosition:"left",as:pe.b,to:"/".concat(u,"/new").concat(o)},r.a.createElement(Pt.a,{name:"plus"}),"\u062c\u062f\u06cc\u062f"),r.a.createElement(_n,{entityName:u,tableSchema:s,data:n,sortCol:this.state.sortCol,sortDir:this.state.sortDir,onSort:function(t,n){return e.setState({sortCol:t,sortDir:n},e.search)},history:this.props.history,pagination:{current_page:a,last_page:i,per_page:this.state.page_size,setPage:this.setPage,setPageSize:this.setPageSize},deleteAction:m})))}}]),t}(r.a.Component),wn=Object(l.b)(null,(function(e){return{search:function(t){return e(Object(Ut.b)(t))}}}))(jn);var kn=Object(l.b)((function(e){return{entityList:e.users.entityList}}),(function(e){return{fetchMethod:function(t){return e(K(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user:",e),e)return a.delete("/admin/v1/users/".concat(e)).then((function(e){return t(K())}))}}(t))}}}))((function(e){return r.a.createElement(wn,Object.assign({},e,{title:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"users",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Qt,name:"id",label:mn.id.label}),r.a.createElement(Ct.a,{component:Qt,name:"name",label:mn.name.label}),r.a.createElement(Ct.a,{component:Qt,name:"phone",label:mn.phone.label}),r.a.createElement(Ct.a,{component:Qt,name:"email",label:mn.email.label})),r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Gt,name:"role",label:mn.role.label,options:mn.role.options}),r.a.createElement(Ct.a,{component:Gt,name:"is_active",label:mn.is_active.label,options:Ht})))},tableSchema:[{key:"id",sortable:!0,header:mn.id.label},{key:"name",sortable:!0,header:mn.name.label},{key:"phone",sortable:!0,header:mn.phone.label},{key:"email",sortable:!0,header:mn.email.label},{key:"role",header:mn.role.label},{key:"is_active",header:mn.is_active.label,render:"boolean"}]}))})),Sn=function(e,t,n){return Object(Nt.a)({form:"".concat(e,"/").concat(n?"new":"edit"),enableReinitialize:!0})((function(e){var n=e.handleSubmit,a=e.submitting,i=e.pristine,o=e.reset;return r.a.createElement(kt.a,{onSubmit:n},t(e),r.a.createElement(St.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:i,loading:a},r.a.createElement(Pt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"),r.a.createElement(St.a,{type:"button",secondary:!0,icon:!0,labelPosition:"left",disabled:i||a,onClick:o},r.a.createElement(Pt.a,{name:"refresh"}),"\u0644\u063a\u0648 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"))}))},Dn=function(e){function t(){var e,n;Object(ft.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(bt.a)(this,(e=Object(yt.a)(t)).call.apply(e,[this].concat(r)))).NF=void 0,n.EF=void 0,n.fetchEntity=function(e){return n.props.fetchEntity(e)},n.updateEntity=function(e){return function(t){return n.props.updateEntity(e,t).then((function(){return n.props.alert.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0635\u0644\u0627\u062d \u0634\u062f")}))}},n.newEntity=function(e){return n.props.newEntity(e).then((function(){n.props.alert.success("\u0631\u06a9\u0648\u0631\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f"),n.props.history.goBack()}))},n}return Object(Et.a)(t,e),Object(ht.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.fetchEntity(e):this.props.resetEntity(fn.a.parse(this.props.location.search))}},{key:"initForms",value:function(){this.NF=Sn(this.props.entityName,this.props.NewFields,!0),this.EF=Sn(this.props.entityName,this.props.EditFields,!1)}},{key:"render",value:function(){this.props.NewFields&&!this.NF&&this.initForms(),this.props.EditFields&&!this.EF&&this.initForms();var e=this.props.match.params.id,t=this.props,n=t.title,a=t.entity;return r.a.createElement(cn,null,r.a.createElement("div",{style:{maxWidth:600,margin:"0 auto"}},r.a.createElement(Dt.a,{raised:!0,attached:"top",textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h2",null,n)),r.a.createElement(Dt.a,{raised:!0,padded:!0,attached:"bottom"},r.a.createElement(qt,{history:this.props.history}),e?this.props.EditFields&&r.a.createElement(this.EF,{onSubmit:this.updateEntity(e),initialValues:a}):this.props.NewFields&&r.a.createElement(this.NF,{onSubmit:this.newEntity,initialValues:a}))))}}]),t}(r.a.Component),Nn=Object(u.d)()(Dn);var Cn=Object(l.b)((function(e){return{entity:e.users.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:B,payload:e}}(t))},fetchEntity:function(t){return e(Z(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user:",e),e&&t)return r.put("/admin/v1/users/".concat(e),t).then((function(t){return n(Z(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user"),e)return a.post("/register",e)}}(t))}}}))((function(e){return r.a.createElement(Nn,Object.assign({},e,{title:"\u06a9\u0627\u0631\u0628\u0631",entityName:"users",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"name",label:mn.name.label,required:!0,validate:Yt.REQUIRED}),r.a.createElement(Ct.a,{component:Qt,name:"phone",label:mn.phone.label}),r.a.createElement(Ct.a,{component:Qt,name:"email",label:mn.email.label}),r.a.createElement(Ct.a,{component:Qt,name:"password",label:mn.password.label,type:"password",required:!0,validate:Yt.REQUIRED}),r.a.createElement(Ct.a,{component:Qt,name:"passwordConfirm",label:mn.passwordConfirm.label,type:"password",required:!0,validate:Yt.REQUIRED}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"name",label:mn.name.label,required:!0,validate:Yt.REQUIRED}),r.a.createElement(Ct.a,{component:Qt,name:"phone",label:mn.phone.label}),r.a.createElement(Ct.a,{component:Qt,name:"email",label:mn.email.label}),r.a.createElement(Ct.a,{component:Qt,name:"role",label:mn.email.label,required:!0,validate:Yt.REQUIRED}),r.a.createElement(Ct.a,{component:Gt,name:"is_active",label:mn.is_active.label,options:Ht}),r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement(St.a,{as:pe.b,to:"/user_hints?user_id=".concat(e.initialValues?e.initialValues.id:"null")},"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627"),r.a.createElement(St.a,{as:pe.b,to:"/user_achievements?user_id=".concat(e.initialValues?e.initialValues.id:"null")},"\u0645\u062f\u0627\u0644\u200c\u0647\u0627")))}}))}));function Pn(e){var t=e.match.url;return r.a.createElement(wt.d,null,r.a.createElement(wt.b,{exact:!0,path:"".concat(t),component:kn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/new"),component:Cn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/:id"),component:Cn}))}var xn=Object(l.b)((function(e){return{entityList:e.questions.entityList}}),(function(e){return{fetchMethod:function(t){return e(se(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting question:",e),e)return a.delete("/admin/v1/questions/".concat(e)).then((function(e){return t(se())}))}}(t))}}}))((function(e){return r.a.createElement(wn,Object.assign({},e,{title:"\u0633\u0624\u0627\u0644\u0627\u062a",entityName:"questions",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Qt,name:"id",label:ne.id.label}),r.a.createElement(Ct.a,{component:Qt,name:"title",label:ne.title.label})),r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Gt,options:ne.locale.options,name:"locale",label:ne.locale.label}),r.a.createElement(Ct.a,{component:Gt,options:ne.time_type.options,name:"time_type",label:ne.time_type.label}),r.a.createElement(Ct.a,{component:Gt,options:ne.answer_type.options,name:"answer_type",label:ne.answer_type.label})))},tableSchema:[{key:"id",header:ne.id.label},{key:"locale",header:ne.locale.label},{key:"title",header:ne.title.label},{key:"time_type",header:ne.time_type.label},{key:"answer_type",header:ne.answer_type.label},{key:"start_time",header:ne.start_time.label},{key:"end_time",header:ne.end_time.label},{key:"score",header:ne.score.label},{key:"tries",header:ne.tries.label}]}))})),qn=function(e){for(var t=e.input,n=(e.meta,e.children,e.path,Object(jt.a)(e,["input","meta","children","path"])),i=Object(a.useState)(!1),o=Object(Ft.a)(i,2),l=o[0],c=o[1],u=function(){return c(!1)},s=t.value?JSON.parse(t.value):[],m=s?s.length:0,p=[],d=0;d<m;d++)p.push(r.a.createElement(Fn,{key:d,entity:s[d],index:d,values:s,input:t}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt.a,{raised:!0,attached:"top",color:"blue",inverted:!0},r.a.createElement("h4",{style:{display:"inline"}},n.label),r.a.createElement(Lt.a,{trigger:r.a.createElement(Pt.a,{name:"add",circular:!0,inverted:!0,color:"green",size:"small",onClick:function(){return c(!0)},style:{cursor:"pointer",float:"left"}}),open:l,onClose:u},r.a.createElement(Lt.a.Content,null,r.a.createElement((function(){var e=Object(a.useState)({type:"text",value:null}),n=Object(Ft.a)(e,2),i=n[0],o=n[1],l=Object(a.useState)(!1),c=Object(Ft.a)(l,2),m=c[0],p=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Dropdown,{selection:!0,options:[{key:"text",text:"\u0645\u062a\u0646\u06cc",value:"text"},{key:"image",text:"\u062a\u0635\u0648\u06cc\u0631\u06cc",value:"image"}],value:i.type,onChange:function(e,t){var n=t.value;return o({type:n,value:null})}}),r.a.createElement("div",{style:{height:8}}),"image"===i.type?r.a.createElement(Wt,{input:{onChange:function(e){return o({type:"image",value:e})}}}):null,r.a.createElement(St.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:"image"===i.type&&!i.value,onClick:function(){"text"===i.type?(s.push({type:"text",value:""}),t.onChange(JSON.stringify(s)),u()):(p(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),mt.post("files",n)}(i.value,"q_img").then((function(e){e&&(s.push({type:"image",value:e.data.relative_path}),t.onChange(JSON.stringify(s)),u())})).finally((function(){p(!1)})))},loading:m},r.a.createElement(Pt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"))}),null)))),r.a.createElement(Dt.a,{raised:!0,attached:"bottom"},p))},Fn=function(e){var t=e.entity,n=e.index,a=e.values,i=e.input;return r.a.createElement("div",{style:{margin:"4px 0"}},"image"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt.a,{src:"".concat(ct.server_url,"storage/").concat(t.value),style:{maxWidth:"90%",display:"inline-block"}}),r.a.createElement(Pt.a,{name:"times",color:"red",circular:!0,inverted:!0,style:{marginRight:8},onClick:function(e){var t;e.preventDefault(),t=a[n],mt.delete("files",{data:{path:t}}),a.splice(n,1),i.onChange(JSON.stringify(a))}})):r.a.createElement(It.a,{fluid:!0,value:t.value,onChange:function(e,t){var r=t.value;a[n].value=r,i.onChange(JSON.stringify(a))},action:{icon:"minus",color:"red",onClick:function(e){e.preventDefault(),a.splice(n,1),i.onChange(JSON.stringify(a))}},style:{marginTop:n>0?16:0}}))};var In=Object(l.b)((function(e){return{entity:e.questions.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:le,payload:e}}(t))},fetchEntity:function(t){return e(me(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating question:",e),e&&t)return r.put("/admin/v1/questions/".concat(e),t).then((function(t){return n(me(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating question"),e)return a.post("/admin/v1/questions",e)}}(t))}}}))((function(e){return r.a.createElement(Nn,Object.assign({},e,{title:"\u0633\u0624\u0627\u0644",entityName:"questions",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Gt,options:ne.locale.options,name:"locale",label:ne.locale.label}),r.a.createElement(Ct.a,{component:Qt,name:"title",label:ne.title.label}),r.a.createElement(Ct.a,{component:Gt,options:ne.time_type.options,name:"time_type",label:ne.time_type.label}),r.a.createElement(Ct.a,{component:Gt,options:ne.answer_type.options,name:"answer_type",label:ne.answer_type.label}),r.a.createElement(Ct.a,{component:Bt,name:"start_time",label:ne.start_time.label}),r.a.createElement(Ct.a,{component:Bt,name:"end_time",label:ne.end_time.label}),r.a.createElement(Ct.a,{component:Qt,name:"score",label:ne.score.label}),r.a.createElement(Ct.a,{component:Qt,name:"tries",label:ne.tries.label}),r.a.createElement(Ct.a,{component:Xt,name:"images",label:ne.images.label,path:"q_img"}),r.a.createElement(Ct.a,{component:qn,name:"choices",label:ne.choices.label}),r.a.createElement(Ct.a,{component:Jt,name:"letters",label:ne.letters.label}),r.a.createElement(Ct.a,{component:Qt,name:"letters_num",label:ne.letters_num.label}),r.a.createElement(Ct.a,{component:Jt,name:"solutions",label:ne.solutions.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"id",label:ne.id.label,disabled:!0}),r.a.createElement(Ct.a,{component:Gt,options:ne.locale.options,name:"locale",label:ne.locale.label}),r.a.createElement(Ct.a,{component:Qt,name:"title",label:ne.title.label}),r.a.createElement(Ct.a,{component:Gt,options:ne.time_type.options,name:"time_type",label:ne.time_type.label}),r.a.createElement(Ct.a,{component:Gt,options:ne.answer_type.options,name:"answer_type",label:ne.answer_type.label}),r.a.createElement(Ct.a,{component:Bt,name:"start_time",label:ne.start_time.label}),r.a.createElement(Ct.a,{component:Bt,name:"end_time",label:ne.end_time.label}),r.a.createElement(Ct.a,{component:Qt,name:"score",label:ne.score.label}),r.a.createElement(Ct.a,{component:Qt,name:"tries",label:ne.tries.label}),r.a.createElement(Ct.a,{component:Xt,name:"images",label:ne.images.label,path:"q_img"}),r.a.createElement(Ct.a,{component:qn,name:"choices",label:ne.choices.label}),r.a.createElement(Ct.a,{component:Jt,name:"letters",label:ne.letters.label}),r.a.createElement(Ct.a,{component:Qt,name:"letters_num",label:ne.letters_num.label}),r.a.createElement(Ct.a,{component:Jt,name:"solutions",label:ne.solutions.label}))}}))}));function Rn(e){var t=e.match.url;return r.a.createElement(wt.d,null,r.a.createElement(wt.b,{exact:!0,path:"".concat(t),component:xn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/new"),component:In}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/:id"),component:In}))}var Tn=Object(l.b)((function(e){return{entityList:e.answers.entityList}}),(function(e){return{fetchMethod:function(t){return e(Oe(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting answer:",e),e)return a.delete("/admin/v1/answers/".concat(e)).then((function(e){return t(Oe())}))}}(t))}}}))((function(e){return r.a.createElement(wn,Object.assign({},e,{title:"\u062a\u0644\u0627\u0634\u200c\u0647\u0627",entityName:"answers",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Vt,entityName:"questions",formName:"answers/search",name:"question_id",label:de.question_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"answers/search",name:"user_id",label:de.user_id.label})),r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Qt,name:"text",label:de.text.label}),r.a.createElement(Ct.a,{component:Gt,name:"correct",label:de.correct.label,options:Ht})))},tableSchema:[{key:"question_id",header:de.question_id.label},{key:"user_id",header:de.user_id.label},{key:"text",header:de.text.label},{key:"correct",header:de.correct.label,render:"boolean"}]}))}));var Ln=Object(l.b)((function(e){return{entity:e.answers.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:Ee,payload:e}}(t))},fetchEntity:function(t){return e(_e(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating answer:",e),e&&t)return r.put("/admin/v1/answers/".concat(e),t).then((function(t){return n(_e(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating answer"),e)return a.post("/admin/v1/answers",e)}}(t))}}}))((function(e){return r.a.createElement(Nn,Object.assign({},e,{title:"\u062a\u0644\u0627\u0634",entityName:"answers",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Vt,entityName:"questions",formName:"answers/new",required:!0,validate:Yt.REQUIRED,name:"question_id",label:de.question_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"answers/new",required:!0,validate:Yt.REQUIRED,name:"user_id",label:de.user_id.label}),r.a.createElement(Ct.a,{component:Qt,name:"text",label:de.text.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"id",label:de.id.label,disabled:!0}),r.a.createElement(Ct.a,{component:Vt,entityName:"questions",formName:"answers/edit",required:!0,validate:Yt.REQUIRED,name:"question_id",label:de.question_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"answers/edit",required:!0,validate:Yt.REQUIRED,name:"user_id",label:de.user_id.label}),r.a.createElement(Ct.a,{component:Qt,name:"text",label:de.text.label,required:!0,validate:Yt.REQUIRED}),r.a.createElement(Ct.a,{component:Gt,name:"correct",label:de.correct.label,options:Ht}))}}))}));function zn(e){var t=e.match.url;return r.a.createElement(wt.d,null,r.a.createElement(wt.b,{exact:!0,path:"".concat(t),component:Tn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/new"),component:Ln}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/:id"),component:Ln}))}var An=Object(l.b)((function(e){return{entityList:e.hints.entityList}}),(function(e){return{fetchMethod:function(t){return e(xe(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting hint:",e),e)return a.delete("/admin/v1/hints/".concat(e)).then((function(e){return t(xe())}))}}(t))}}}))((function(e){return r.a.createElement(wn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627",entityName:"hints",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Vt,entityName:"questions",formName:"hints/search",name:"question_id",label:je.question_id.label})))},tableSchema:[{key:"question_id",header:je.question_id.label},{key:"type",header:je.type.label},{key:"value",header:je.value.label},{key:"price",header:je.price.label}]}))})),Mn=n(296),Un=function(e){var t=e.input,n=(e.meta,e.children,e.path,e.formProps);Object(jt.a)(e,["input","meta","children","path","formProps"]);switch(Object(l.d)((function(e){return Object(Mn.a)(n.form)(e,"type")}))){case"image":return r.a.createElement(Yn,{value:t.value,onChange:t.onChange});case"choice":return r.a.createElement(Jt,{name:"choices",label:"\u0627\u0646\u062f\u06cc\u0633 \u06af\u0632\u06cc\u0646\u0647\u200c\u0647\u0627\u06cc \u062d\u0630\u0641\u06cc (\u0627\u0632 \u0635\u0641\u0631)",input:t});case"letter":return r.a.createElement(Jt,{name:"letters",label:"\u0627\u0646\u062f\u06cc\u0633 \u062d\u0631\u0648\u0641 \u062d\u0630\u0641\u06cc (\u0627\u0632 \u0635\u0641\u0631)",input:t});default:return null}};function Yn(e){var t=e.value,n=e.onChange,i=Object(a.useState)(!1),o=Object(Ft.a)(i,2),l=o[0],c=o[1],u=Object(a.useState)(null),s=Object(Ft.a)(u,2),m=s[0],p=s[1],d=Object(a.useState)(!1),f=Object(Ft.a)(d,2),h=f[0],b=f[1],y=function(){return c(!1)};return r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement(Lt.a,{trigger:r.a.createElement(St.a,{onClick:function(e){e.preventDefault(),c(!0)}},"\u0627\u0646\u062a\u062e\u0627\u0628 \u062a\u0635\u0648\u06cc\u0631"),open:l,onClose:y},r.a.createElement(Lt.a.Content,null,r.a.createElement(Wt,{input:{onChange:p}}),r.a.createElement(St.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:!m,onClick:function(){b(!0),function(e,t){var n=new FormData;return n.append("file",e),n.append("path",t),mt.post("files",n)}(m,"q_img").then((function(e){e&&(n(e.data.relative_path),y())})).finally((function(){b(!1)}))},loading:h},r.a.createElement(Pt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"))),t?r.a.createElement(Tt.a,{src:"".concat(ct.server_url,"storage/").concat(t)}):null)}var Qn=Object(l.b)((function(e){return{entity:e.hints.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:Ne,payload:e}}(t))},fetchEntity:function(t){return e(qe(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating hint:",e),e&&t)return r.put("/admin/v1/hints/".concat(e),t).then((function(t){return n(qe(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating hint"),e)return a.post("/admin/v1/hints",e)}}(t))}}}))((function(e){return r.a.createElement(Nn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc",entityName:"hints",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Vt,entityName:"questions",formName:"hints/new",required:!0,validate:Yt.REQUIRED,name:"question_id",label:je.question_id.label}),r.a.createElement(Ct.a,{component:Qt,name:"price",label:je.price.label}),r.a.createElement(Ct.a,{component:Gt,options:je.type.options,id:"type",name:"type",label:je.type.label}),r.a.createElement(Ct.a,{component:Un,name:"value",label:je.value.label,formProps:e}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"id",label:je.id.label,disabled:!0}),r.a.createElement(Ct.a,{component:Vt,entityName:"questions",formName:"hints/edit",required:!0,validate:Yt.REQUIRED,name:"question_id",label:je.question_id.label}),r.a.createElement(Ct.a,{component:Qt,name:"price",label:je.price.label}),r.a.createElement(Ct.a,{component:Gt,options:je.type.options,name:"type",label:je.type.label}),r.a.createElement(Ct.a,{component:Un,name:"value",label:je.value.label,formProps:e}))}}))}));function Jn(e){var t=e.match.url;return r.a.createElement(wt.d,null,r.a.createElement(wt.b,{exact:!0,path:"".concat(t),component:An}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/new"),component:Qn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/:id"),component:Qn}))}var Gn=Object(l.b)((function(e){return{entityList:e.user_hints.entityList}}),(function(e){return{fetchMethod:function(t){return e(Ue(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user_hint:",e),e)return a.delete("/admin/v1/user_hints/".concat(e)).then((function(e){return t(Ue())}))}}(t))}}}))((function(e){return r.a.createElement(wn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc\u200c\u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"user_hints",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Vt,entityName:"hints",formName:"user_hints/search",name:"hint_id",label:Fe.hint_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"user_hints/search",name:"user_id",label:Fe.user_id.label})))},tableSchema:[{key:"hint_id",header:Fe.hint_id.label},{key:"user_id",header:Fe.user_id.label}]}))}));var Hn=Object(l.b)((function(e){return{entity:e.user_hints.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:ze,payload:e}}(t))},fetchEntity:function(t){return e(Ye(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user_hint:",e),e&&t)return r.put("/admin/v1/user_hints/".concat(e),t).then((function(t){return n(Ye(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user_hint"),e)return a.post("/admin/v1/user_hints",e)}}(t))}}}))((function(e){return r.a.createElement(Nn,Object.assign({},e,{title:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc\u06cc \u06a9\u0627\u0631\u0628\u0631",entityName:"user_hints",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Vt,entityName:"hints",formName:"user_hints/new",required:!0,validate:Yt.REQUIRED,name:"hint_id",label:Fe.hint_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"user_hints/new",required:!0,validate:Yt.REQUIRED,name:"user_id",label:Fe.user_id.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"id",label:Fe.id.label,disabled:!0}),r.a.createElement(Ct.a,{component:Vt,entityName:"hints",formName:"user_hints/edit",required:!0,validate:Yt.REQUIRED,name:"hint_id",label:Fe.hint_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"user_hints/edit",required:!0,validate:Yt.REQUIRED,name:"user_id",label:Fe.user_id.label}))}}))}));function Vn(e){var t=e.match.url;return r.a.createElement(wt.d,null,r.a.createElement(wt.b,{exact:!0,path:"".concat(t),component:Gn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/new"),component:Hn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/:id"),component:Hn}))}var Bn={id:{label:"\u0634\u0646\u0627\u0633\u0647"},code:{label:"\u06a9\u062f"}};var Wn=Object(l.b)((function(e){return{entityList:e.achievements.entityList}}),(function(e){return{fetchMethod:function(t){return e(We(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting achievement:",e),e)return a.delete("/admin/v1/achievements/".concat(e)).then((function(e){return t(We())}))}}(t))}}}))((function(e){return r.a.createElement(wn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627",entityName:"achievements",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Qt,name:"code",label:Bn.code.label})))},tableSchema:[{key:"code",header:Bn.code.label}]}))}));var Xn=Object(l.b)((function(e){return{entity:e.achievements.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:He,payload:e}}(t))},fetchEntity:function(t){return e(Xe(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating achievement:",e),e&&t)return r.put("/admin/v1/achievements/".concat(e),t).then((function(t){return n(Xe(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating achievement"),e)return a.post("/admin/v1/achievements",e)}}(t))}}}))((function(e){return r.a.createElement(Nn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644",entityName:"achievements",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"code",label:Bn.code.label,required:!0,validate:Yt.REQUIRED}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"id",label:Bn.id.label,disabled:!0}),r.a.createElement(Ct.a,{component:Qt,name:"code",label:Bn.code.label,required:!0,validate:Yt.REQUIRED}))}}))}));function Kn(e){var t=e.match.url;return r.a.createElement(wt.d,null,r.a.createElement(wt.b,{exact:!0,path:"".concat(t),component:Wn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/new"),component:Xn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/:id"),component:Xn}))}var Zn=Object(l.b)((function(e){return{entityList:e.user_achievements.entityList}}),(function(e){return{fetchMethod:function(t){return e(it(t))},deleteAction:function(t){return e(function(e){return function(t,n,a){if(console.log("Deleting user_achievement:",e),e)return a.delete("/admin/v1/user_achievements/".concat(e)).then((function(e){return t(it())}))}}(t))}}}))((function(e){return r.a.createElement(wn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644\u200c\u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u0627\u0646",entityName:"user_achievements",SearchFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a.Group,{widths:"equal"},r.a.createElement(Ct.a,{component:Vt,entityName:"achievements",formName:"user_achievements/search",name:"achievement_id",label:Ke.achievement_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"user_achievements/search",name:"user_id",label:Ke.user_id.label})))},tableSchema:[{key:"achievement_id",header:Ke.achievement_id.label},{key:"user_id",header:Ke.user_id.label}]}))}));var $n=Object(l.b)((function(e){return{entity:e.user_achievements.entity}}),(function(e){return{resetEntity:function(t){return e(function(e){return{type:nt,payload:e}}(t))},fetchEntity:function(t){return e(ot(t))},updateEntity:function(t,n){return e(function(e,t){return function(n,a,r){if(console.log("Updating user_achievement:",e),e&&t)return r.put("/admin/v1/user_achievements/".concat(e),t).then((function(t){return n(ot(e))}))}}(t,n))},newEntity:function(t){return e(function(e){return function(t,n,a){if(console.log("Creating user_achievement"),e)return a.post("/admin/v1/user_achievements",e)}}(t))}}}))((function(e){return r.a.createElement(Nn,Object.assign({},e,{title:"\u0645\u062f\u0627\u0644 \u06a9\u0627\u0631\u0628\u0631",entityName:"user_achievements",NewFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Vt,entityName:"achievements",formName:"user_achievements/new",required:!0,validate:Yt.REQUIRED,name:"achievement_id",label:Ke.achievement_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"user_achievements/new",required:!0,validate:Yt.REQUIRED,name:"user_id",label:Ke.user_id.label}))},EditFields:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{component:Qt,name:"id",label:Ke.id.label,disabled:!0}),r.a.createElement(Ct.a,{component:Vt,entityName:"achievements",formName:"user_achievements/edit",required:!0,validate:Yt.REQUIRED,name:"achievement_id",label:Ke.achievement_id.label}),r.a.createElement(Ct.a,{component:Vt,entityName:"users",formName:"user_achievements/edit",required:!0,validate:Yt.REQUIRED,name:"user_id",label:Ke.user_id.label}))}}))}));function ea(e){var t=e.match.url;return r.a.createElement(wt.d,null,r.a.createElement(wt.b,{exact:!0,path:"".concat(t),component:Zn}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/new"),component:$n}),r.a.createElement(wt.b,{exact:!0,path:"".concat(t,"/:id"),component:$n}))}var ta=n(627),na=Object(Nt.a)({form:"settings/password_change"})((function(e){var t=e.handleSubmit,n=e.submitting,a=e.pristine,i=e.reset;return r.a.createElement(kt.a,{onSubmit:t},r.a.createElement(Ct.a,{component:Qt,type:"password",required:!0,validate:Yt.REQUIRED,name:"old_password",label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0642\u062f\u06cc\u0645\u06cc"}),r.a.createElement(Ct.a,{component:Qt,type:"password",required:!0,validate:Yt.REQUIRED,name:"new_password",label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),r.a.createElement(Ct.a,{component:Qt,type:"password",required:!0,validate:Yt.REQUIRED,name:"new_password_confirm",label:"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),r.a.createElement(St.a,{type:"submit",color:"green",icon:!0,labelPosition:"left",disabled:a,loading:n},r.a.createElement(Pt.a,{name:"check"}),"\u0630\u062e\u06cc\u0631\u0647"),r.a.createElement(St.a,{type:"button",secondary:!0,icon:!0,labelPosition:"left",disabled:a||n,onClick:i},r.a.createElement(Pt.a,{name:"refresh"}),"\u0644\u063a\u0648 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"))})),aa=function(){var e=Object(l.c)();return r.a.createElement(na,{onSubmit:function(t){return e(function(e){var t=e.old_password,n=e.new_password,a=e.new_password_confirm;return function(e,r,i){if(n===a)return i.post("/password",{old_password:t,new_password:n}).then((function(t){t&&200===t.status&&(e(R(z(r()).phone,n)),alert("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u063a\u06cc\u06cc\u0631 \u06a9\u0631\u062f"))}));alert("\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a")}}(t))}})};function ra(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u062a\u0648\u0633\u0639\u0647\u200c\u062f\u0647\u0646\u062f\u0647: \u0645\u0647\u0631\u0627\u0646 \u0645\u06cc\u0631\u062e\u0627\u0646"),r.a.createElement("p",null,"\u062a\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647: \u06f0\u06f9\u06f1\u06f2\u06f8\u06f4\u06f7\u06f0\u06f4\u06f2\u06f3"),r.a.createElement("p",null,"\u0627\u06cc\u0645\u06cc\u0644: mehranmirkhan@gmail.com"),r.a.createElement("p",null,"\u062a\u0644\u06af\u0631\u0627\u0645:",r.a.createElement("a",{href:"https://t.me/m3hr4n_91",target:"_blank",rel:"noopener noreferrer"},"https://t.me/m3hr4n_91")))}function ia(){var e=[{menuItem:"\u062a\u063a\u06cc\u06cc\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",render:function(){return r.a.createElement(ta.a.Pane,null,r.a.createElement(aa,null))}},{menuItem:"\u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u062a\u0648\u0633\u0639\u0647\u200c\u062f\u0647\u0646\u062f\u0647",render:function(){return r.a.createElement(ta.a.Pane,null,r.a.createElement(ra,null))}}];return r.a.createElement(cn,null,r.a.createElement(ta.a,{menu:{fluid:!0,vertical:!0,tabular:!0},panes:e}))}var oa=function(){return r.a.createElement(cn,null,r.a.createElement(Dt.a,{raised:!0,textAlign:"center",color:"blue",inverted:!0},r.a.createElement("h1",null,"\u0635\u0641\u062d\u0647\u200c\u06cc \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u06cc\u0627\u0641\u062a \u0646\u0634\u062f")))},la=n(216),ca=function(e){return{isAuthenticated:A(e)}},ua=Object(l.b)(ca)((function(e){var t=e.isAuthenticated,n=Object(jt.a)(e,["isAuthenticated"]);return t?r.a.createElement(wt.b,n):r.a.createElement(wt.a,{to:"/"})})),sa=Object(l.b)(ca)((function(e){var t=e.isAuthenticated,n=Object(jt.a)(e,["isAuthenticated"]);return t?r.a.createElement(wt.a,{to:"/report"}):r.a.createElement(wt.b,n)}));var ma=Object(l.b)((function(e){return{isAuthenticated:A(e),me:z(e)}}),(function(e){return{fetchMe:function(){return e(L())},logout:function(){return e(T())}}}))((function(e){var t=e.fetchMe,n=e.logout,a=e.isAuthenticated,i=e.me;if(a){if(!i||0===Object.keys(i).length)return t(),r.a.createElement("div",null);"admin"!==i.role&&(n(),alert("\u0641\u0642\u0637 \u0645\u062f\u06cc\u0631 \u0633\u0627\u0645\u0627\u0646\u0647 \u0627\u062c\u0627\u0632\u0647 \u062f\u0633\u062a\u0631\u0633\u06cc \u062f\u0627\u0631\u062f"))}var o={};return la.homepage&&(o.basename=la.homepage),r.a.createElement(pe.a,o,r.a.createElement(wt.d,null,r.a.createElement(sa,{exact:!0,path:"/",component:en}),r.a.createElement(ua,{exact:!0,path:"/report",component:sn}),r.a.createElement(ua,{path:"/users",component:Pn}),r.a.createElement(ua,{path:"/questions",component:Rn}),r.a.createElement(ua,{path:"/answers",component:zn}),r.a.createElement(ua,{path:"/hints",component:Jn}),r.a.createElement(ua,{path:"/user_hints",component:Vn}),r.a.createElement(ua,{path:"/achievements",component:Kn}),r.a.createElement(ua,{path:"/user_achievements",component:ea}),r.a.createElement(ua,{exact:!0,path:"/settings",component:ia}),r.a.createElement(wt.b,{path:"*",component:oa})))}));n(600),n(601),n(602);o.a.render(r.a.createElement((function(){return r.a.createElement(l.a,{store:pt},r.a.createElement(c.a,{loading:null,persistor:dt},r.a.createElement(u.a,{template:vt,timeout:5e3,position:u.b.TOP_CENTER,transition:u.c.SCALE},r.a.createElement(_t,null,r.a.createElement(ma,null)))))}),null),document.getElementById("root"))}},[[361,1,2]]]);
//# sourceMappingURL=main.45d2e451.chunk.js.map